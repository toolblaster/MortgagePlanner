<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Meta Title: 59 chars -->
    <title>Strategic Mortgage Planner: Your Guide to Smarter Home Finance</title>
    
    <!-- SEO & Meta Tags -->
    <!-- Meta Description: 156 chars -->
    <meta name="description" content="Your all-in-one hub for mortgage planning. Start with our guided paths, explore standalone calculators, or read expert guides to master your home finances.">
    <meta name="keywords" content="mortgage planner, mortgage calculator, home affordability, refinance calculator, home equity, first-time home buyer, mortgage guide">
    <meta name="author" content="Vikas Rana">
    <link rel="icon" href="data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='100' height='100' rx='20' fill='%231C768F'/%3E%3Cpath d='M50 25L25 45V75H41.6667V58.3333H58.3333V75H75V45L50 25Z' stroke='white' stroke-width='5' stroke-linejoin='round'/%3E%3Cpath d='M40 65L50 55L60 65' stroke='white' stroke-width='5' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M50 55V45' stroke='white' stroke-width='5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E">
    <!-- NEW: Canonical URL for the root page -->
    <link rel="canonical" href="https://mortgageplanner.toolblaster.com/index.html" />

    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    
    <!-- App Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#1C768F', 'accent': '#166534', 'secondary': '#b45309',
                        /* ACCESSIBILITY UPDATE: 
                          Updated buy-path, optimize-path, and invest-path colors to darker shades 
                          to ensure WCAG AA (4.5:1) contrast ratio for text and buttons.
                        */
                        'buy-path': '#1d4ed8',       /* Was: #3b82f6 (blue-500), Now: blue-700 */
                        'optimize-path': '#065f46',    /* Was: #10b981 (green-500), Now: green-800 */
                        'invest-path': '#92400e',      /* Was: #f59e0b (amber-500), Now: amber-800 */
                    },
                    fontFamily: { sans: ['Inter', 'sans-serif'] }
                }
            }
        }
    </script>

    <!-- Global Stylesheet -->
    <link rel="stylesheet" href="style.css">
    
    <style>
         /* Custom styles for the planning hub */
        .path-step-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-in-out;
        }
        details[open] .path-step-content {
            max-height: 2000px; /* Adjust based on max content size */
        }
        
        .path-details[open] {
            grid-column: span 3 / span 3;
        }

        .path-step-list {
            list-style: none; /* Ensure no default bullets */
            padding-left: 0;
            margin-left: 0;
        }
        .path-step-list > li {
            position: relative;
            margin-left: 0;
            padding-left: 1.75rem; 
        }
        .path-step-list > li::before {
            content: '';
            position: absolute;
            left: 0.65rem; 
            top: 1.15rem;
            bottom: -0.25rem; /* Adjusted for tighter vertical spacing */
            width: 2px;
            background-color: #e5e7eb; /* Gray-200 line */
        }
        .path-step-list > li:last-child::before {
            display: none; /* Hide line on the last element */
        }
        .path-step-list > li .step-marker {
            position: absolute;
            left: 0;
            top: 0;
            z-index: 10;
        }

        .path-details > summary {
             transition: all 0.2s ease-in-out;
             border: 2px solid transparent;
        }
        .path-details:hover > summary {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.05);
            transform: translateY(-2px);
        }
        .path-details[open] > summary .chevron-icon {
            transform: rotate(90deg);
        }
        .path-details .chevron-icon {
            transition: transform 0.3s ease-in-out;
        }
        
        /* Quick access section */
        .quick-link-tile {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            /* UPDATED: Reduced padding */
            padding: 0.5rem; /* p-2 */
            border-radius: 0.5rem;
            border-width: 2px;
            transition: all 0.2s ease-in-out;
        }

        .quick-link-tile:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
        }

        /* NEW: Styles for calculator/blog cards */
        .hub-card {
            display: block;
            position: relative;
            background-color: #ffffff; /* UPDATED: Changed to white */
            padding: 0.75rem; /* p-3 */
            border-radius: 0.5rem; /* rounded-lg */
            /* UPDATED: Changed border to be 2px and use a light primary color */
            border: 2px solid rgba(28, 118, 143, 0.2); /* 2px border-primary/20 */
            transition: all 0.2s ease-in-out;
        }
        .hub-card:hover {
            border-color: #1C768F; /* hover:border-primary */
            background-color: #f0f9ff; /* hover:bg-sky-50 */
            transform: translateY(-2px);
            /* UPDATED: Added a glow effect using the primary color */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05), 0 0 15px rgba(28, 118, 143, 0.3);
        }
    </style>

    <!-- JSON-LD Structured Data for the hub -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Strategic Mortgage Planner: Your Guide to Smarter Home Finance",
      "description": "Your all-in-one hub for mortgage planning. Start with our guided paths, explore standalone calculators, or read expert guides to master your home finances.",
      "url": "https://mortgageplanner.toolblaster.com/index.html",
      "mainEntity": {
        "@type": "ItemList",
        "name": "Financial Planning Tools & Guides",
        "itemListElement": [
            { "@type": "ListItem", "position": 1, "name": "First-Time Buyer Path" },
            { "@type": "ListItem", "position": 2, "name": "Homeowner Optimization Path" },
            { "@type": "ListItem", "position": 3, "name": "Real Estate Investor Path" },
            { "@type": "ListItem", "position": 4, "name": "All-in-One Mortgage Planner", "url": "https://mortgageplanner.toolblaster.com/all-in-one-mortgage-planner.html" },
            { "@type": "ListItem", "position": 5, "name": "Calculators Hub", "url": "https://mortgageplanner.toolblaster.com/calculators/" },
            { "@type": "ListItem", "position": 6, "name": "Blog & Guides", "url": "https://mortgageplanner.toolblaster.com/blog/" }
        ]
      }
    }
    </script>

</head>
<body class="bg-gray-100 text-sm">
    <main class="content-wrapper">
        <div class="container-global my-4 md:my-8">
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-2xl">
                
                <!-- Header/Title Section -->
                <header class="text-center mb-6 p-4 rounded-lg bg-gradient-to-r from-primary to-accent shadow-md">
                    <h1 class="text-xl sm:text-2xl font-extrabold text-white tracking-tight">
                        Your Roadmap to Mortgage Mastery
                    </h1>
                    <p class="mt-1 max-w-2xl mx-auto text-sm text-gray-200">
                        Welcome! Start with our powerful All-in-One Planner, or choose a guided path that matches your financial goal.
                    </p>
                </header>

                <!-- Main Hero CTA -->
                <!-- UPDATED: Reorganized to a 75/25 grid on large screens -->
                <section class="bg-sky-50 py-4 px-4 rounded-xl shadow-lg border-2 border-primary mb-6 lg:grid lg:grid-cols-4 lg:gap-4 lg:text-left text-center">
                    <!-- Planner CTA (75% / 3 cols) -->
                    <div class="lg:col-span-3 pb-4 lg:pb-0 border-b lg:border-b-0 lg:border-r border-sky-200">
                        <h2 class="text-lg font-extrabold text-primary">Start with the All-in-One Planner</h2>
                        <p class="text-xs text-gray-700 mt-1 max-w-2xl mx-auto lg:mx-0">
                            This is our most powerful tool. It combines affordability, payoff scenarios, equity growth, and refinance analysis all in one place.
                        </p>
                        <!-- UPDATED LINK -->
                        <a href="all-in-one-mortgage-planner.html" class="mt-2 inline-block bg-primary text-white font-bold py-1.5 px-5 rounded-lg shadow-lg text-xs transition-transform transform hover:scale-105">
                            Go to the All-in-One Planner &rarr;
                        </a>
                    </div>

                    <!-- Refinance Quiz (25% / 1 col) -->
                    <div class="lg:col-span-1 pt-4 lg:pt-0 flex flex-col justify-center items-center lg:items-start">
                        <h3 class="text-sm font-bold text-accent mb-2">Refinancing?</h3>
                        <p class="text-xs text-gray-700">Find out if you are financially ready to refinance in 2 minutes.</p>
                        <a href="Refinance-Readiness-Quiz.html" class="mt-2 inline-flex items-center justify-center bg-accent text-white font-semibold py-1.5 px-3 rounded-lg shadow-md hover:bg-green-800 transition text-xs">
                            Take the Readiness Quiz
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" /></svg>
                        </a>
                    </div>
                </section>

                <!-- 
                  FUTURE AD SLOT (Responsive Banner) 
                  - Placed after the main hero CTA and before the first content block.
                  - 'min-h-[90px]' is set to prevent Cumulative Layout Shift (CLS) when the ad loads.
                  - This space is ideal for a 728x90 or responsive horizontal banner.
                -->
                <div class="my-6 flex min-h-[90px] w-full items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 text-gray-400 hidden">
                    Future Ad Placeholder (e.g., 728x90)
                </div>

                <!-- NEW: Wrapper for Tools & Paths -->
                <!-- UPDATED: Changed background to bg-gray-100, added border-4, and shadow-xl for prominence -->
                <!-- UPDATED: Added light gradient background -->
                <section class="mb-8 p-4 bg-gradient-to-r from-buy-path/5 via-white to-invest-path/5 border-4 border-primary/30 rounded-xl shadow-xl">
                    <!-- Quick Access / CTA Row -->
                    <section class="pb-6" id="quick-tools-section">
                        <!-- UPDATED: Header made smaller and border added -->
                        <h2 class="text-base font-extrabold text-primary mb-3 text-center border-b-2 border-primary/20 pb-2">Quick Tools for Immediate Answers</h2>
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 max-w-4xl mx-auto">
                            <!-- UPDATED: Link to all-in-one-mortgage-planner.html -->
                            <!-- ACCESSIBILITY UPDATE: text-buy-path, hover:bg-buy-path/10, border-buy-path/30 classes now use the higher-contrast color defined in the script config -->
                            <!-- UPDATED: Changed background to bg-white -->
                            <a href="all-in-one-mortgage-planner.html#affordability-tab" class="quick-link-tile bg-white hover:bg-buy-path/10 border-buy-path/30 text-buy-path">
                                <!-- Icon: Target (Affordability) -->
                                <!-- UPDATED: Reduced icon size -->
                                <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>
                                <!-- UPDATED: Reduced margin-top -->
                                <span class="text-xs font-semibold mt-1">Affordability</span>
                            </a>
                            <!-- UPDATED: Link to calculators/ folder -->
                            <!-- ACCESSIBILITY UPDATE: text-optimize-path, hover:bg-optimize-path/10, border-optimize-path/30 classes now use the higher-contrast color -->
                             <!-- UPDATED: Changed background to bg-white -->
                            <a href="calculators/extra-payment-calculator.html" class="quick-link-tile bg-white hover:bg-optimize-path/10 border-optimize-path/30 text-optimize-path">
                                <!-- Icon: Zap (Payoff Faster) -->
                                <!-- UPDATED: Reduced icon size -->
                                <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
                                <!-- UPDATED: Reduced margin-top -->
                                <span class="text-xs font-semibold mt-1">Payoff Faster</span>
                            </a>
                            <!-- UPDATED: Link to calculators/ folder & New Icon -->
                            <!-- ACCESSIBILITY UPDATE: text-invest-path, hover:bg-invest-path/10, border-invest-path/30 classes now use the higher-contrast color -->
                             <!-- UPDATED: Changed background to bg-white -->
                            <a href="calculators/home-equity-calculator.html" class="quick-link-tile bg-white hover:bg-invest-path/10 border-invest-path/30 text-invest-path">
                                <!-- Icon: CurrencyDollar (Home Equity) -->
                                <!-- UPDATED: Reduced icon size -->
                                <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                <!-- UPDATED: Reduced margin-top -->
                                <span class="text-xs font-semibold mt-1">Home Equity</span>
                            </a>
                        </div>
                    </section>
                    
                    <!-- NEW: Header for Guided Paths -->
                    <h2 class="text-lg font-extrabold text-primary mb-4 text-center border-b-2 border-primary/20 pb-2 mt-6">Or, Follow a Guided Path</h2>
                    <!-- Guided Paths Section: Updated to use 3-column grid -->
                    <section class="max-w-4xl mx-auto space-y-6 lg:space-y-0 lg:grid lg:grid-cols-3 lg:gap-6" id="guided-paths-container">
                        
                        <!-- Path 1: First-Time Buyer -->
                        <!-- ACCESSIBILITY UPDATE: border-buy-path/30, text-buy-path, bg-buy-path, text-buy-path classes updated via config -->
                        <details class="path-details rounded-xl shadow-lg border border-buy-path/30 lg:col-span-1 bg-white">
                            <summary class="p-4 rounded-xl cursor-pointer list-none group hover:bg-gray-50 transition-colors border-l-4 border-buy-path">
                                <div class="flex items-start space-x-3">
                                    <div class="w-8 h-8 rounded-full bg-buy-path text-white flex-shrink-0 flex items-center justify-center font-bold text-lg mt-1">
                                        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" /></svg>
                                    </div>
                                    <div class="flex-grow">
                                        <h3 class="text-sm font-extrabold text-buy-path flex items-center justify-between">
                                            Path 1: First-Time Buyer
                                            <svg class="chevron-icon w-4 h-4 text-buy-path transform transition-transform" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </h3>
                                        <p class="text-xs text-gray-700 mt-0.5">From budgeting to closing, secure your first home confidently.</p>
                                    </div>
                                </div>
                                <!-- UPDATED: Changed anchor tag back to button and added ID for JS modification -->
                                <button id="view-steps-btn" class="mt-3 w-full py-1.5 bg-buy-path text-white font-semibold rounded-md text-xs shadow-md hover:bg-buy-path/80 transition-colors">
                                    View Steps
                                </button>
                            </summary>
                            <div class="path-step-content p-4 border-t">
                                <p class="text-xs text-gray-700 mb-3 font-semibold">Your goal is purchasing a home. Follow these steps to prepare your finances and secure a mortgage:</p>
                                <ol class="path-step-list space-y-2 list-none">
                                    <li class="flex items-start space-x-2">
                                        <div class="step-marker w-4 h-4 rounded-full bg-buy-path/20 text-buy-path flex items-center justify-center mt-1">
                                            <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
                                        </div>
                                        <div class="w-full">
                                            <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Check Readiness: Credit & DTI</h4>
                                            <p class="text-[11px] text-gray-600">Ensure your credit score is strong and your debts are manageable before getting pre-approved.</p>
                                            <!-- UPDATED: Link to blog/ folder -->
                                            <a href="blog/first-time-home-buyer-checklist.html" class="text-[11px] font-semibold text-buy-path hover:underline">Read: First-Time Buyer Checklist &rarr;</a>
                                        </div>
                                    </li>
                                    <li class="flex items-start space-x-2">
                                        <div class="step-marker w-4 h-4 rounded-full bg-buy-path/20 text-buy-path flex items-center justify-center mt-1">
                                            <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01M12 6v.01M12 18v-2m0-2v-2m0-2V7m0 0V6" /></svg>
                                        </div>
                                        <div class="w-full">
                                            <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Determine Your True Budget</h4>
                                            <p class="text-[11px] text-gray-600">Find the max home price you can afford while maintaining a healthy Debt-to-Income ratio (DTI).</p>
                                            <!-- UPDATED: Link to all-in-one-mortgage-planner.html -->
                                            <a href="all-in-one-mortgage-planner.html#affordability-tab" class="text-[11px] font-semibold text-buy-path hover:underline">Use: Affordability Calculator &rarr;</a>
                                        </div>
                                    </li>
                                    <li class="flex items-start space-x-2">
                                        <div class="step-marker w-4 h-4 rounded-full bg-buy-path/20 text-buy-path flex items-center justify-center mt-1">
                                            <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17.5 19H12a5.5 5.5 0 01-5.5-5.5c0-1.4 0-3 1.5-4.5h5.5M17.5 19H17a4 4 0 00-4-4h-2a4 4 0 00-4 4H6.5c-2.4 0-4.5-2.1-4.5-4.5 0-3.5 3-6.5 6.5-6.5h7c3 0 5.5 2.5 5.5 5.5v2"/></svg>
                                        </div>
                                        <div class="w-full">
                                            <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Calculate Upfront Costs</h4>
                                            <p class="text-[11px] text-gray-600">Calculate your total cash needed for the down payment, closing costs (2-5%), and initial taxes/insurance.</p>
                                            <!-- UPDATED: Link to calculators/ folder -->
                                            <a href="calculators/down-payment-calculator.html" class="text-[11px] font-semibold text-buy-path hover:underline">Use: Down Payment Calculator &rarr;</a>
                                        </div>
                                    </li>
                                    <li class="flex items-start space-x-2">
                                        <div class="step-marker w-4 h-4 rounded-full bg-buy-path/20 text-buy-path flex items-center justify-center mt-1">
                                            <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M7 20h10m-10 0V4a2 2 0 012-2h6a2 2 0 012 2v16m-10 0h10" /></svg>
                                        </div>
                                        <div class="w-full">
                                            <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Model Your Monthly Payment</h4>
                                            <p class="text-[11px] text-gray-600">Run a full scenario (PITI) on the main planner to confirm the final payment is comfortable.</p>
                                            <!-- UPDATED: Link to all-in-one-mortgage-planner.html -->
                                            <a href="all-in-one-mortgage-planner.html#mortgage-tab" class="text-[11px] font-semibold text-buy-path hover:underline">Use: Mortgage Planner (PITI) &rarr;</a>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </details>
                        
                        <!-- Path 2: Homeowner Optimization -->
                        <!-- ACCESSIBILITY UPDATE: border-optimize-path/30, text-optimize-path, bg-optimize-path, text-optimize-path classes updated via config -->
                        <details class="path-details rounded-xl shadow-lg border border-optimize-path/30 lg:col-span-1 bg-white">
                            <summary class="p-4 rounded-xl cursor-pointer list-none group hover:bg-gray-50 transition-colors border-l-4 border-optimize-path">
                                <div class="flex items-start space-x-3">
                                    <div class="w-8 h-8 rounded-full bg-optimize-path text-white flex-shrink-0 flex items-center justify-center font-bold text-lg mt-1">
                                        <!-- UPDATED ICON -->
                                        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941" /></svg>
                                    </div>
                                    <div class="flex-grow">
                                        <h3 class="text-sm font-extrabold text-optimize-path flex items-center justify-between">
                                            Path 2: Homeowner Optimization
                                            <svg class="chevron-icon w-4 h-4 text-optimize-path transform transition-transform" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </h3>
                                        <p class="text-xs text-gray-700 mt-0.5">Maximize savings, reduce interest, and tap equity efficiently.</p>
                                    </div>
                                </div>
                                <!-- UPDATED: Changed anchor tag back to button and added ID for JS modification -->
                                <button id="optimize-now-btn" class="mt-3 w-full py-1.5 bg-optimize-path text-white font-semibold rounded-md text-xs shadow-md hover:bg-optimize-path/80 transition-colors">
                                    Optimize Now
                                </button>
                            </summary>
                            <div class="path-step-content p-4 border-t">
                                <p class="text-xs text-gray-700 mb-3 font-semibold">Your goal is to save interest and pay off your current loan as efficiently as possible:</p>
                                <ol class="path-step-list space-y-2 list-none">
                                    <li class="flex items-start space-x-2">
                                        <div class="step-marker w-4 h-4 rounded-full bg-optimize-path/20 text-optimize-path flex items-center justify-center mt-1">
                                            <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                        </div>
                                        <div class="w-full">
                                            <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Accelerate Your Payoff</h4>
                                            <p class="text-[11px] text-gray-600">See exactly how much money and time you save by adding extra monthly payments or lump sums.</p>
                                            <!-- UPDATED: Link to calculators/ folder -->
                                            <a href="calculators/extra-payment-calculator.html" class="text-[11px] font-semibold text-optimize-path hover:underline">Use: Extra Payment Calculator &rarr;</a>
                                        </div>
                                    </li>
                                    <li class="flex items-start space-x-2">
                                        <div class="step-marker w-4 h-4 rounded-full bg-optimize-path/20 text-optimize-path flex items-center justify-center mt-1">
                                            <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
                                        </div>
                                        <div class="w-full">
                                            <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Refinance Analysis</h4>
                                            <p class="text-[11px] text-gray-600">Calculate your refinance break-even point and total savings if you shorten your term or lower your rate.</p>
                                            <!-- UPDATED: Link to all-in-one-mortgage-planner.html -->
                                            <a href="all-in-one-mortgage-planner.html#refinance-tab" class="text-[11px] font-semibold text-optimize-path hover:underline">Use: Refinance Calculator &rarr;</a>
                                        </div>
                                    </li>
                                    <li class="flex items-start space-x-2">
                                        <div class="step-marker w-4 h-4 rounded-full bg-optimize-path/20 text-optimize-path flex items-center justify-center mt-1">
                                            <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8V4m0 0L8 8m4-4l4 4m-3 7c-.121-.212-.34-.326-.59-.326C11.663 15.375 12 15.75 12 15.75c-.337 0-.677.375-.59.75M4.5 19.5h15" /></svg>
                                        </div>
                                        <div class="w-full">
                                            <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Opportunity Cost Check (NPV)</h4>
                                            <p class="text-[11px] text-gray-600">Determine if your extra payments are better used on your low-interest mortgage or invested (NPV analysis).</p>
                                            <!-- UPDATED: Link to blog/ folder -->
                                            <a href="blog/mortgage-amortization-explained.html" class="text-[11px] font-semibold text-optimize-path hover:underline">Read: Amortization & NPV Explained &rarr;</a>
                                        </div>
                                    </li>
                                    <li class="flex items-start space-x-2">
                                        <div class="step-marker w-4 h-4 rounded-full bg-optimize-path/20 text-optimize-path flex items-center justify-center mt-1">
                                            <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17.5 19H12a5.5 5.5 0 01-5.5-5.5c0-1.4 0-3 1.5-4.5h5.5M17.5 19H17a4 4 0 00-4-4h-2a4 4 0 00-4 4H6.5c-2.4 0-4.5-2.1-4.5-4.5 0-3.5 3-6.5 6.5-6.5h7c3 0 5.5 2.5 5.5 5.5v2"/></svg>
                                        </div>
                                        <div class="w-full">
                                            <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Tap Home Equity Wisely</h4>
                                            <p class="text-[11px] text-gray-600">Compare HELOCs and Cash-Out Refinancing to decide the best way to access your home's value.</p>
                                            <!-- UPDATED: Link to calculators/ folder -->
                                            <a href="calculators/home-equity-calculator.html" class="text-[11px] font-semibold text-optimize-path hover:underline">Use: Home Equity Calculator &rarr;</a>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </details>

                        <!-- Path 3: Real Estate Investor -->
                        <!-- ACCESSIBILITY UPDATE: border-invest-path/30, text-invest-path, bg-invest-path, text-invest-path classes updated via config -->
                        <details class="path-details rounded-xl shadow-lg border border-invest-path/30 lg:col-span-1 bg-white">
                            <summary class="p-4 rounded-xl cursor-pointer list-none group hover:bg-gray-50 transition-colors border-l-4 border-invest-path">
                                <div class="flex items-start space-x-3">
                                    <div class="w-8 h-8 rounded-full bg-invest-path text-white flex-shrink-0 flex items-center justify-center font-bold text-lg mt-1">
                                        <!-- UPDATED ICON -->
                                        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h6M9 9.75h6M9 12.75h6M9 15.75h6M9 18.75h6" /></svg>
                                    </div>
                                    <div>
                                        <h3 class="text-sm font-extrabold text-invest-path flex items-center justify-between">
                                            Path 3: Real Estate Investor
                                            <svg class="chevron-icon w-4 h-4 text-invest-path transform transition-transform" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" /></svg>
                                        </h3>
                                        <p class="text-xs text-gray-700 mt-0.5">Analyze cash flow, Cap Rate, and maximize rental property returns.</p>
                                    </div>
                                </div>
                                <!-- UPDATED: Changed anchor tag back to button and added ID for JS modification -->
                                <button id="analyze-roi-btn" class="mt-3 w-full py-1.5 bg-invest-path text-white font-semibold rounded-md text-xs shadow-md hover:bg-invest-path/80 transition-colors">
                                    Analyze ROI
                                </button>
                            </summary>
                            <div class="path-step-content p-4 border-t">
                                <p class="text-xs text-gray-700 mb-3 font-semibold">Your goal is passive income. Analyze rental cash flow, Cap Rate, and Cash-on-Cash ROI:</p>
                                <ol class="path-step-list space-y-2 list-none">
                                    <li class="flex items-start space-x-2">
                                        <div class="step-marker w-4 h-4 rounded-full bg-invest-path/20 text-invest-path flex items-center justify-center mt-1">
                                            <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>
                                        </div>
                                        <div class="w-full">
                                            <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Calculate Investment ROI</h4>
                                            <p class="text-[11px] text-gray-600">Input purchase price, rent, and expenses to immediately see Cap Rate and Cash-on-Cash Return.</p>
                                            <!-- UPDATED: Link to all-in-one-mortgage-planner.html -->
                                            <a href="all-in-one-mortgage-planner.html#investment-tab" class="text-[11px] font-semibold text-invest-path hover:underline">Use: Investment/Rental Calculator &rarr;</a>
                                        </div>
                                    </li>
                                    <li class="flex items-start space-x-2">
                                        <div class="step-marker w-4 h-4 rounded-full bg-invest-path/20 text-invest-path flex items-center justify-center mt-1">
                                            <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 010 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 010-5.198V6.375c0-.621.504-1.125-1.125-1.125H3.375z" /></svg>
                                        </div>
                                        <div class="w-full">
                                            <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Validate Initial Costs</h4>
                                            <p class="text-[11px] text-gray-600">Accurately estimate closing costs and property taxes, the two biggest upfront expenses.</p>
                                            <!-- UPDATED: Link to calculators/ folder -->
                                            <a href="calculators/closing-cost-calculator.html" class="text-[11px] font-semibold text-invest-path hover:underline">Use: Closing Cost Calculator &rarr;</a>
                                        </div>
                                    </li>
                                    <li class="flex items-start space-x-2">
                                        <div class="step-marker w-4 h-4 rounded-full bg-invest-path/20 text-invest-path flex items-center justify-center mt-1">
                                            <svg class="w-3 h-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M7 20h10m-10 0V4a2 2 0 012-2h6a2 2 0 012 2v16m-10 0h10" /></svg>
                                        </div>
                                        <div class="w-full">
                                            <h4 class="font-semibold text-gray-800 text-xs mb-0.5">Forecast Long-Term Wealth</h4>
                                            <p class="text-[11px] text-gray-600">Model the investment property in the main Mortgage Planner to forecast long-term equity growth.</p>
                                            <!-- UPDATED: Link to all-in-one-mortgage-planner.html -->
                                            <a href="all-in-one-mortgage-planner.html#mortgage-tab" class="text-[11px] font-semibold text-invest-path hover:underline">Use: Full Planner (Equity Forecast) &rarr;</a>
                                        </div>
                                    </li>
                                </ol>
                            </div>
                        </details>
                    </section>
                </section>

                <!-- 
                  FUTURE AD SLOT (In-Content Rectangle)
                  - Placed between major content sections (Calculators and Blog).
                  - 'min-h-[250px]' is set to prevent CLS when a common 300x250 or 336x280 ad loads.
                -->
                <div class="my-6 flex min-h-[250px] w-full items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 text-gray-400 hidden">
                    Future Ad Placeholder (e.g., 300x250)
                </div>

                <!-- NEW SECTION: All Calculators -->
                <!-- UPDATED: Background changed to primary/20 -->
                <section class="mt-8 p-4 bg-primary/20 border-2 border-primary/20 rounded-xl">
                    <!-- UPDATED: Header styling changed -->
                    <header class="text-center mb-6 p-4 rounded-lg bg-primary/10 shadow-inner border-b-2 border-primary/20">
                        <h2 class="text-xl font-extrabold text-primary">Explore Our Full Suite of Calculators</h2>
                        <!-- UPDATED: Increased text contrast -->
                        <p class="mt-1 text-sm text-gray-900">Need a specific answer? Dive into our standalone tools.</p>
                    </header>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
                        <!-- UPDATED LINK -->
                        <a href="all-in-one-mortgage-planner.html" class="hub-card flex items-start text-left">
                            <div class="flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full bg-primary/20 text-primary mr-3 mt-1">
                                <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" /></svg>
                            </div>
                            <div>
                                <h3 class="text-sm font-bold text-primary group-hover:underline">All-in-One Mortgage Planner</h3>
                                <p class="mt-1 text-xs text-gray-600">The 5-in-1 tool for advanced scenario analysis, DTI, NPV, and more.</p>
                            </div>
                        </a>
                        <a href="calculators/down-payment-calculator.html" class="hub-card flex items-start text-left">
                            <div class="flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full bg-primary/20 text-primary mr-3 mt-1">
                                <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 12a2.25 2.25 0 00-2.25-2.25H15a3 3 0 11-6 0H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25-2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 9m18 0V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v3" /></svg>
                            </div>
                            <div>
                                <h3 class="text-sm font-bold text-primary group-hover:underline">Down Payment Calculator</h3>
                                <p class="mt-1 text-xs text-gray-600">Calculate your down payment, loan amount, and monthly P&I.</p>
                            </div>
                        </a>
                        <a href="calculators/extra-payment-calculator.html" class="hub-card flex items-start text-left">
                            <div class="flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full bg-primary/20 text-primary mr-3 mt-1">
                               <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            </div>
                            <div>
                                <h3 class="text-sm font-bold text-primary group-hover:underline">Extra Payment Calculator</h3>
                                <p class="mt-1 text-xs text-gray-600">See how extra payments can save you thousands and shorten your loan term.</p>
                            </div>
                        </a>
                        <a href="calculators/property-tax-calculator.html" class="hub-card flex items-start text-left">
                            <div class="flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full bg-primary/20 text-primary mr-3 mt-1">
                               <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>
                            </div>
                            <div>
                                <h3 class="text-sm font-bold text-primary group-hover:underline">Property Tax Calculator</h3>
                                <p class="mt-1 text-xs text-gray-600">Estimate your annual and monthly property taxes by state or manual rate.</p>
                            </div>
                        </a>
                        <a href="calculators/closing-cost-calculator.html" class="hub-card flex items-start text-left">
                            <div class="flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full bg-primary/20 text-primary mr-3 mt-1">
                               <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 010 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 010-5.198V6.375c0-.621.504-1.125-1.125-1.125H3.375z" /></svg>
                            </div>
                            <div>
                                <h3 class="text-sm font-bold text-primary group-hover:underline">Closing Cost Calculator</h3>
                                <p class="mt-1 text-xs text-gray-600">Estimate your total lender, third-party, and government fees before you buy.</p>
                            </div>
                        </a>
                        <a href="calculators/home-equity-calculator.html" class="hub-card flex items-start text-left">
                            <div class="flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full bg-primary/20 text-primary mr-3 mt-1">
                               <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941" /></svg>
                            </div>
                            <div>
                                <h3 class="text-sm font-bold text-primary group-hover:underline">Home Equity Calculator</h3>
                                <p class="mt-1 text-xs text-gray-600">Compare HELOC vs. cash-out refinance and see available equity.</p>
                            </div>
                        </a>
                        <a href="calculators/mortgage-amortisation-calculator.html" class="hub-card flex items-start text-left">
                             <div class="flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full bg-primary/20 text-primary mr-3 mt-1">
                                <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z" /></svg>
                            </div>
                            <div>
                                <h3 class="text-sm font-bold text-primary group-hover:underline">Mortgage Amortisation Calculator</h3>
                                <p class="mt-1 text-xs text-gray-600">Visualize payment breakdown and the impact of extra payments.</p>
                            </div>
                        </a>
                    </div>
                </section>

                <!-- 
                  FUTURE AD SLOT (In-Content Rectangle)
                  - Placed between major content sections (Calculators and Blog).
                  - 'min-h-[250px]' is set to prevent CLS when a common 300x250 or 336x280 ad loads.
                -->
                <div class="my-6 flex min-h-[250px] w-full items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 text-gray-400 hidden">
                    Future Ad Placeholder (e.g., 300x250)
                </div>

                <!-- NEW SECTION: Blog Articles -->
                <!-- UPDATED: Background changed to accent/20 -->
                <section class="mt-8 p-4 bg-accent/20 border-2 border-accent/20 rounded-xl">
                    <!-- UPDATED: Header styling changed -->
                    <header class="text-center mb-6 p-4 rounded-lg bg-accent/10 shadow-inner border-b-2 border-accent/20">
                        <h2 class="text-xl font-extrabold text-accent">Latest Mortgage Insights & Guides</h2>
                        <!-- UPDATED: Increased text contrast -->
                        <p class="mt-1 text-sm text-gray-900">Learn the concepts behind the calculations.</p>
                    </header>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
                        <a href="blog/how-to-buy-your-first-home-guide.html" class="hub-card flex items-start text-left">
                            <div class="flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full bg-primary/20 text-primary mr-3 mt-1">
                               <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" /></svg>
                           </div>
                           <div>
                               <h3 class="text-sm font-bold text-primary group-hover:underline">First-Time Home Buyer Guide</h3>
                               <p class="mt-1 text-xs text-gray-600">Buying your first home is exciting. This guide breaks it down step-by-step.</p>
                           </div>
                        </a>
                        <a href="blog/how-to-pay-off-your-mortgage-early.html" class="hub-card flex items-start text-left">
                            <div class="flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full bg-primary/20 text-primary mr-3 mt-1">
                                <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            </div>
                            <div>
                                <h3 class="text-sm font-bold text-primary group-hover:underline">How to Pay Off Your Mortgage Early</h3>
                                <p class="mt-1 text-xs text-gray-600">Learn 5 proven strategies to pay off your mortgage faster and save thousands.</p>
                            </div>
                        </a>
                        <a href="blog/home-equity-vs-refinance.html" class="hub-card flex items-start text-left">
                            <div class="flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full bg-primary/20 text-primary mr-3 mt-1">
                                <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941" /></svg>
                            </div>
                            <div>
                                <h3 class="text-sm font-bold text-primary group-hover:underline">Home Equity vs. Refinance</h3>
                                <p class="mt-1 text-xs text-gray-600">HELOC vs. cash-out? Decide how to best tap into your home's value.</p>
                            </div>
                        </a>
                        <a href="blog/mortgage-amortization-explained.html" class="hub-card flex items-start text-left">
                            <div class="flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full bg-primary/20 text-primary mr-3 mt-1">
                               <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z" /></svg>
                           </div>
                           <div>
                               <h3 class="text-sm font-bold text-primary group-hover:underline">Mortgage Amortisation Explained</h3>
                               <p class="mt-1 text-xs text-gray-600">See where your payment really goes and how to build equity faster.</p>
                           </div>
                        </a>
                        <a href="blog/fixed-vs-variable-mortgage-guide.html" class="hub-card flex items-start text-left">
                            <div class="flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full bg-primary/20 text-primary mr-3 mt-1">
                                <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3 7.5L7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5" /></svg>
                            </div>
                            <div>
                                <h3 class="text-sm font-bold text-primary group-hover:underline">Fixed vs. Variable Mortgage</h3>
                                <p class="mt-1 text-xs text-gray-600">The pros and cons of rate stability vs. potential savings.</p>
                            </div>
                        </a>
                        <a href="blog/hidden-homeownership-costs-guide.html" class="hub-card flex items-start text-left">
                            <div class="flex-shrink-0 flex items-center justify-center h-8 w-8 rounded-full bg-primary/20 text-primary mr-3 mt-1">
                               <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z" /></svg>
                           </div>
                           <div>
                               <h3 class="text-sm font-bold text-primary group-hover:underline">Hidden Homeownership Costs Guide</h3>
                               <p class="mt-1 text-xs text-gray-600">Discover every hidden cost, from closing fees to maintenance, before you buy.</p>
                           </div>
                        </a>
                    </div>
                </section>

            </div>
        </div>
    </main>

    <!-- Shared JS -->
    <script src="global-elements.js" defer></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // JavaScript to manage the exclusive open state and visual column spanning
            const detailsElements = document.querySelectorAll('#guided-paths-container details');
            const viewStepsBtn = document.getElementById('view-steps-btn');
            const optimizeNowBtn = document.getElementById('optimize-now-btn');
            const analyzeRoiBtn = document.getElementById('analyze-roi-btn');

            // Function to handle smooth scrolling to an element
            function smoothScrollTo(element) {
                element.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start' 
                });
            }

            // Function to toggle the details element based on button click
            function toggleDetails(buttonId) {
                const button = document.getElementById(buttonId);
                const details = button.closest('details');
                
                // If clicking the button, toggle the details state
                details.open = !details.open;
            }

            // Attach toggle handlers to the dedicated buttons
            if (viewStepsBtn) viewStepsBtn.addEventListener('click', () => toggleDetails('view-steps-btn'));
            if (optimizeNowBtn) optimizeNowBtn.addEventListener('click', () => toggleDetails('optimize-now-btn'));
            if (analyzeRoiBtn) analyzeRoiBtn.addEventListener('click', () => toggleDetails('analyze-roi-btn'));


            detailsElements.forEach(currentDetails => {
                currentDetails.addEventListener('toggle', (event) => {
                    const isOpening = currentDetails.open;

                    // --- Exclusive Open State Logic ---
                    if (isOpening) {
                        // Close all other details tags
                        detailsElements.forEach(otherDetails => {
                            if (otherDetails !== currentDetails && otherDetails.open) {
                                otherDetails.open = false;
                            }
                        });
                        
                        // Add the dynamic column span class for desktop expansion
                        if (window.innerWidth >= 1024) {
                            currentDetails.classList.add('lg:col-span-3');
                        }
                        
                        // Smooth scroll the opened element into view
                        setTimeout(() => {
                            smoothScrollTo(currentDetails);
                        }, 50);

                    } else {
                         // Remove the column span class when closing
                        if (window.innerWidth >= 1024) {
                            currentDetails.classList.remove('lg:col-span-3');
                        }
                    }
                    
                    // --- Custom Button Text Change Logic (Path 1 only) ---
                    if (currentDetails.querySelector('#view-steps-btn')) {
                        const button = currentDetails.querySelector('#view-steps-btn');
                        if (button) {
                            button.textContent = isOpening ? 'Below are the Steps' : 'View Steps';
                            // Restore original text on other path buttons if needed (though they aren't explicitly requested to change yet)
                        }
                    }
                    // For Path 2
                    if (currentDetails.querySelector('#optimize-now-btn')) {
                         const button = currentDetails.querySelector('#optimize-now-btn');
                         if (button) {
                            button.textContent = isOpening ? 'Hide Steps' : 'Optimize Now';
                         }
                    }
                    // For Path 3
                     if (currentDetails.querySelector('#analyze-roi-btn')) {
                         const button = currentDetails.querySelector('#analyze-roi-btn');
                         if (button) {
                            button.textContent = isOpening ? 'Hide Steps' : 'Analyze ROI';
                         }
                    }
                });
            });

            // Handle initial state and responsiveness on load/resize
            window.addEventListener('resize', () => {
                 detailsElements.forEach(details => {
                    if (details.open) {
                        if (window.innerWidth >= 1024) {
                             details.classList.add('lg:col-span-3');
                        } else {
                             details.classList.remove('lg:col-span-3');
                        }
                    } else {
                        details.classList.remove('lg:col-span-3');
                    }
                });
            });

             // Initial check for desktop expansion
             detailsElements.forEach(details => {
                 if (details.open && window.innerWidth >= 1024) {
                    details.classList.add('lg:col-span-3');
                }
            });
        });
    </script>
</body>
</html>
