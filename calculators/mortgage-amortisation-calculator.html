<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Meta Title: 56 chars -->
    <title>Interactive Mortgage Amortisation Calculator & Schedule</title>

    <!-- SEO & Meta Tags -->
    <!-- Meta Description: 159 chars -->
    <meta name="description" content="A free, interactive mortgage amortisation calculator to visualize your loan breakdown, see the impact of extra payments, and download your full schedule as a PDF or CSV.">
    <meta name="keywords" content="mortgage amortisation calculator, amortization schedule, loan payoff calculator, extra payment calculator, principal vs interest calculator, mortgage breakdown, amortization example, 30-year schedule, pay off mortgage faster, loan amortization schedule, amortization table mortgage, mortgage amortization chart">
    <link rel="icon" href="data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='100' height='100' rx='20' fill='%231C768F'/%3E%3Cpath d='M50 25L25 45V75H41.6667V58.3333H58.3333V75H75V45L50 25Z' stroke='white' stroke-width='5' stroke-linejoin='round'/%3E%3Cpath d='M40 65L50 55L60 65' stroke='white' stroke-width='5' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M50 55V45' stroke='white' stroke-width='5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E">
    <link rel="canonical" href="https://mortgageplanner.toolblaster.com/calculators/mortgage-amortisation-calculator.html" />

    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js" defer></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    
    <!-- App Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#1C768F', 'accent': '#166534', 'secondary': '#b45309'
                    },
                    fontFamily: { sans: ['Inter', 'sans-serif'] }
                }
            }
        }
    </script>

    <!-- Global & Page-Specific Styles -->
    <link rel="stylesheet" href="../style.css">
     <style>
        .faq-answer, .schedule-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        details[open] .faq-answer, details[open] .schedule-content {
            max-height: 2000px; /* A large value to allow content to expand */
        }
        .term-tab {
            transition: all 0.2s ease-in-out;
        }
        .term-tab.active {
            background-color: #1C768F;
            color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .details-chevron {
            transition: transform 0.3s ease-in-out;
        }
        details[open] .details-chevron {
            transform: rotate(90deg);
        }
        /* ADDED: Plus/minus icon styles */
        details summary .minus-icon { display: none; }
        details summary .plus-icon { display: block; }
        details[open] summary .minus-icon { display: block; }
        details[open] summary .plus-icon { display: none; }
    </style>
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "WebApplication",
          "name": "Interactive Mortgage Amortisation Calculator",
          "description": "A free, interactive mortgage amortisation calculator to visualize your loan breakdown, see the impact of extra payments, and download your full schedule as a PDF or CSV.",
          "applicationCategory": "FinanceApplication",
          "operatingSystem": "Any (Web Application)",
          "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" }
        },
        {
            "@type": "MathSolver",
            "name": "Mortgage Amortisation Calculator",
            "description": "Calculates a full amortization schedule for a mortgage, including the breakdown of principal and interest payments over time and the impact of extra payments.",
            "toolType": "AmortizationSchedule",
            "url": "https://mortgageplanner.toolblaster.com/calculators/mortgage-amortisation-calculator.html",
            "variable": [
                { "name": "Loan Amount", "variableType": "https://schema.org/Price" },
                { "name": "Interest Rate", "variableType": "https://schema.org/Number" },
                { "name": "Loan Term", "variableType": "https://schema.org/Duration" },
                { "name": "Extra Monthly Payment", "variableType": "https://schema.org/Price" }
            ]
        },
        {
          "@type": "BreadcrumbList",
          "itemListElement": [{
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://mortgageplanner.toolblaster.com/"
          },{
            "@type": "ListItem",
            "position": 2,
            "name": "Calculators",
            "item": "https://mortgageplanner.toolblaster.com/calculators/"
          },{
            "@type": "ListItem",
            "position": 3,
            "name": "Mortgage Amortisation Calculator"
          }]
        },
        {
          "@type": "HowTo",
          "name": "How to Use the Amortisation Calculator",
          "step": [
            {"@type": "HowToStep", "text": "Enter your total loan amount, annual interest rate, and the loan term in years."},
            {"@type": "HowToStep", "text": "Optionally, add any extra monthly or one-time payments you plan to make."},
            {"@type": "HowToStep", "text": "Click 'Calculate Schedule' to see your payment breakdown, payoff timeline, and total interest costs."},
            {"@type": "HowToStep", "text": "Use the 'Compare Scenarios' toggle to instantly see how extra payments accelerate your loan payoff."}
          ]
        },
        {
            "@type": "FAQPage",
            "mainEntity": [{
                "@type": "Question",
                "name": "What does mortgage amortization mean?",
                "acceptedAnswer": { "Answer": { "text": "Mortgage amortization is the process of paying off your home loan over time with regular, fixed payments. Each payment is split between principal (the amount you borrowed) and interest (the cost of borrowing). An amortization schedule shows you exactly how this split works for every payment." } }
            }, {
                "@type": "Question",
                "name": "How much of my payment goes to interest vs principal?",
                "acceptedAnswer": { "Answer": { "text": "At the beginning of your loan, a larger portion of your payment goes toward interest because your loan balance is at its highest. As you pay down the balance, the interest portion shrinks, and more of your payment goes toward the principal. Our 'Amortisation in Action' chart visualizes this shift perfectly." } }
            }, {
                "@type": "Question",
                "name": "How can I pay off my mortgage faster?",
                "acceptedAnswer": { "Answer": { "text": "The most effective way is to make extra payments directly to the principal. This can be done by adding a little extra to your monthly payment, making a one-time lump-sum payment (like from a bonus), or switching to a bi-weekly payment schedule." } }
            }, {
                "@type": "Question",
                "name": "Whatâ€™s the difference between amortized and interest-only loans?",
                "acceptedAnswer": { "Answer": { "text": "An amortized loan (like the one this calculator models) includes both principal and interest in each payment, ensuring the loan is fully paid off by the end of the term. An interest-only loan requires you to pay only the interest for a set period, which results in lower initial payments but doesn't reduce your loan balance." } }
            }, {
                "@type": "Question",
                "name": "Can I change amortization terms mid-loan?",
                "acceptedAnswer": { "Answer": { "text": "Yes, the most common way to change your amortization term is by refinancing your mortgage. For example, you could refinance a 30-year loan into a 15-year loan to pay it off faster, which will create a new amortization schedule." } }
            }]
        }
      ]
    }
    </script>
</head>
<body class="bg-gray-100 text-sm">
    <main class="content-wrapper">
        <!-- UPDATED: Added .calculator-layout-grid class -->
        <div class="container-global calculator-layout-grid my-4 space-y-4 lg:space-y-0">
            <!-- UPDATED: Wrapped main content in <main> tag for 80% column -->
            <main class="space-y-4">
                <!-- UPDATED: Reduced padding from p-3 sm:p-4 to p-3 -->
                <div id="calculator-container" class="bg-white p-3 rounded-xl shadow-2xl">
                    <header class="text-center mb-4 p-4 rounded-lg bg-gradient-to-r from-primary to-accent shadow-md">
                        <h1 class="text-xl font-extrabold text-white">Interactive Mortgage Amortisation Calculator</h1>
                        <p class="mt-1 text-xs text-gray-200">Visualize your loan payments, see the impact of extra contributions, and plan your path to being mortgage-free.</p>
                    </header>
    
                    <!-- FUTURE AD SLOT (Responsive Banner / 728x90) -->
                    <div class="my-4 flex min-h-[90px] w-full items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 text-gray-400 hidden">
                        Future Ad Placeholder (e.g., 728x90)
                    </div>
                    <!-- END: Ad Slot Placeholder -->

                    <div id="error-messages" class="hidden p-3 mb-3 text-sm text-red-800 rounded-lg bg-red-50" role="alert"></div>
    
                    <!-- UPDATED: Reduced gap-4 to gap-3 -->
                    <div class="grid grid-cols-1 lg:grid-cols-5 gap-3">
                        <!-- Input Column -->
                        <!-- UPDATED: Reduced space-y-3 to space-y-2 -->
                        <div class="lg:col-span-2 space-y-2">
                            <!-- UPDATED: Reduced p-3 to p-2 and added border -->
                            <div class="bg-gray-50 border-2 border-gray-400 rounded-lg p-2">
                                <h2 class="text-sm font-bold text-primary mb-2">Loan Details</h2>
                                <!-- UPDATED: Reduced space-y-4 to space-y-3 -->
                                <div class="space-y-3">
                                    <!-- Loan Amount Slider -->
                                    <div>
                                        <div class="flex justify-between items-center">
                                            <label for="loanAmount" class="block font-medium text-xs text-gray-700">Loan Principal (<span id="currency-symbol">$</span>):</label>
                                            <input type="number" id="loanAmount" value="300000" class="w-24 p-1 text-xs text-right border border-gray-300 rounded-md">
                                        </div>
                                        <input type="range" id="loanAmountSlider" min="10000" max="1000000" value="300000" step="1000" class="w-full mt-2 range-slider">
                                    </div>
                                    
                                    <!-- Interest Rate Slider -->
                                    <div>
                                        <div class="flex justify-between items-center">
                                            <label for="interestRate" class="block font-medium text-xs text-gray-700">Interest Rate (%):</label>
                                            <input type="number" id="interestRate" value="6.5" step="0.01" class="w-24 p-1 text-xs text-right border border-gray-300 rounded-md">
                                        </div>
                                        <input type="range" id="interestRateSlider" min="1" max="15" value="6.5" step="0.1" class="w-full mt-2 range-slider">
                                    </div>
    
                                    <!-- Loan Term Slider -->
                                    <div>
                                        <div class="flex justify-between items-center">
                                            <label for="loanTerm" class="block font-medium text-xs text-gray-700">Loan Term (Years):</label>
                                            <input type="number" id="loanTerm" value="30" class="w-24 p-1 text-xs text-right border border-gray-300 rounded-md">
                                        </div>
                                        <input type="range" id="loanTermSlider" min="5" max="40" value="30" step="1" class="w-full mt-2 range-slider">
                                    </div>
                                    
                                    <div>
                                        <label for="currency" class="block font-medium text-xs text-gray-700">Currency:</label>
                                        <select id="currency" class="w-full p-1 text-xs border border-gray-300 rounded-md h-[28px]">
                                            <option value="USD">USD ($)</option>
                                            <option value="EUR">EUR (â‚¬)</option>
                                            <option value="GBP">GBP (Â£)</option>
                                            <option value="CAD">CAD (C$)</option>
                                            <option value="AUD">AUD (A$)</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
    
                            <!-- UPDATED: Reduced p-3 to p-2 and added border -->
                            <div class="bg-gray-50 border-2 border-gray-400 rounded-lg p-2">
                                <h2 class="text-sm font-bold text-primary mb-2">Accelerate Your Payoff</h2>
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                    <div>
                                        <label for="extraMonthly" class="block font-medium text-xs text-gray-700">Extra Monthly Pmt (<span class="currency-symbol-small">$</span>):</label>
                                        <input type="number" id="extraMonthly" value="100" class="w-full p-1 text-xs border border-gray-300 rounded-md">
                                    </div>
                                    <div>
                                        <label for="oneTimePayment" class="block font-medium text-xs text-gray-700">One-Time Pmt (<span class="currency-symbol-small">$</span>):</label>
                                        <input type="number" id="oneTimePayment" value="5000" class="w-full p-1 text-xs border border-gray-300 rounded-md">
                                    </div>
                                    <div class="sm:col-span-2">
                                         <label for="oneTimePaymentMonth" class="block font-medium text-xs text-gray-700">Apply One-Time Pmt in Month #:</label>
                                        <input type="number" id="oneTimePaymentMonth" value="12" class="w-full p-1 text-xs border border-gray-300 rounded-md">
                                    </div>
                                    <div class="sm:col-span-2">
                                         <label for="investmentReturn" class="block font-medium text-xs text-gray-700">
                                            <span class="tooltip-container">Annual Investment Return (%):
                                                <span class="tooltip-icon" tabindex="0" aria-label="Annual Investment Return tooltip">?</span>
                                                <span class="tooltip-text" role="tooltip">The average annual return you expect if you invested your extra payments instead.</span>
                                            </span>
                                        </label>
                                        <input type="number" id="investmentReturn" value="7.0" step="0.1" class="w-full p-1 text-xs border border-gray-300 rounded-md">
                                    </div>
                                </div>
                            </div>
    
                            <!-- UPDATED: Reduced p-3 to p-2 and added border -->
                            <div class="bg-gray-50 border-2 border-gray-400 rounded-lg p-2">
                                <h2 class="text-sm font-bold text-primary mb-2">Optional Costs</h2>
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                    <div>
                                        <label for="propertyTax" class="block font-medium text-xs text-gray-700">Annual Property Tax (<span class="currency-symbol-small">$</span>):</label>
                                        <input type="number" id="propertyTax" value="3600" class="w-full p-1 text-xs border border-gray-300 rounded-md">
                                    </div>
                                    <div>
                                        <label for="homeInsurance" class="block font-medium text-xs text-gray-700">Annual Insurance (<span class="currency-symbol-small">$</span>):</label>
                                        <input type="number" id="homeInsurance" value="1200" class="w-full p-1 text-xs border border-gray-300 rounded-md">
                                    </div>
                                    <div class="text-xs text-gray-600 sm:col-span-2 italic">
                                        These optional costs are part of your <strong>escrow</strong> payment. 
                                        <span class="tooltip-container relative inline-block">
                                            <span class="tooltip-icon" tabindex="0" aria-label="Escrow explanation">?</span>
                                            <span class="tooltip-text" role="tooltip">Escrow is an account managed by your lender to pay property taxes and insurance on your behalf.</span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="sticky bottom-2 sm:bottom-4">
                                 <button id="calculateBtn" class="w-full px-4 py-1.5 bg-primary text-white font-bold rounded-lg shadow-lg hover:bg-sky-700 transition duration-150 text-xs">
                                    Calculate Schedule
                                 </button>
                            </div>
                        </div>
    
                        <!-- Results Column -->
                        <!-- UPDATED: Reduced space-y-3 to space-y-2 and removed min-h-[500px] -->
                        <div class="lg:col-span-3 space-y-2 min-h-0">
                            <div id="results-summary" class="hidden">
                                <div class="grid grid-cols-2 md:grid-cols-4 gap-2 text-center">
                                    <div class="bg-primary/10 p-2 rounded-lg border-2 border-primary/70">
                                        <h3 class="text-[11px] font-semibold text-primary">Monthly Payment</h3>
                                        <p id="monthlyPayment" class="text-sm font-bold text-primary"></p>
                                    </div>
                                    <div class="bg-gray-100 p-2 rounded-lg border border-gray-400">
                                        <h3 class="text-[11px] font-semibold text-gray-600">Total Interest</h3>
                                        <p id="totalInterest" class="text-sm font-bold text-gray-800"></p>
                                    </div>
                                    <div class="bg-gray-100 p-2 rounded-lg border border-gray-400">
                                        <h3 class="text-[11px] font-semibold text-gray-600">Payoff Date</h3>
                                        <p id="payoffDate" class="text-sm font-bold text-gray-800"></p>
                                    </div>
                                    <div class="bg-accent/10 p-2 rounded-lg border-2 border-accent/50">
                                        <h3 class="text-[11px] font-semibold text-accent">Interest Saved</h3>
                                        <p id="interestSaved" class="text-sm font-bold text-accent"></p>
                                    </div>
                                </div>
    
                                <!-- UPDATED: Reduced mt-3 to mt-2 and p-3 to p-2 -->
                                <div class="mt-2 bg-gray-50 border border-gray-400 rounded-lg p-2">
                                    <h3 class="text-xs font-bold text-gray-700 text-center">Loan Payoff Progress</h3>
                                    <div class="bg-gray-200 rounded-full h-4 mt-2 overflow-hidden">
                                        <div id="progressBar" class="bg-accent h-full rounded-full transition-all duration-500 flex items-center justify-end">
                                            <span id="progressText" class="text-xs font-bold text-white pr-2"></span>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- UPDATED: Reduced mt-3 to mt-2 and p-3 to p-2 -->
                                <div class="mt-2 bg-white border border-gray-400 rounded-lg p-2">
                                    <div class="flex justify-between items-center mb-2">
                                         <h3 class="text-xs font-bold text-primary">Loan Balance Over Time</h3>
                                         <label for="compareToggle" class="inline-flex items-center cursor-pointer">
                                            <span class="mr-2 text-xs font-medium text-gray-900">Compare</span>
                                            <span class="relative">
                                                <input type="checkbox" id="compareToggle" class="sr-only peer">
                                                <div class="w-11 h-6 bg-gray-200 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent"></div>
                                            </span>
                                        </label>
                                    </div>
                                    <!-- UPDATED: Reduced h-48 sm:h-56 to h-44 sm:h-56 -->
                                    <div class="relative h-44 sm:h-56">
                                        <canvas id="amortizationChart"></canvas>
                                    </div>
                                </div>
                                
                                <!-- Opportunity Cost Section -->
                                <!-- UPDATED: Reduced mt-3 to mt-2 and p-3 to p-2 -->
                                <div id="opportunity-cost-section" class="hidden mt-2 bg-white border-2 border-gray-400 rounded-lg p-2">
                                    <h3 class="text-xs font-bold text-secondary text-center">Opportunity Cost: Pay Mortgage vs. Invest</h3>
                                    <!-- UPDATED: Reduced h-48 sm:h-56 to h-44 sm:h-56 -->
                                    <div class="relative h-44 sm:h-56 mt-2">
                                        <canvas id="opportunityCostChart"></canvas>
                                    </div>
                                    <!-- UPDATED: Reduced mt-4 to mt-2 and p-3 to p-2 -->
                                    <div id="opportunity-cost-summary" class="mt-2 text-xs text-center bg-secondary/10 p-2 rounded-lg">
                                        <!-- Summary text will be injected here by JS -->
                                    </div>
                                </div>
    
                            </div>
                        </div>
                    </div>
                </div>
    
                <!-- Amortization Table & Downloads -->
                <!-- UPDATED: Reduced mt-4 to mt-2 -->
                <details id="table-section" class="bg-white rounded-xl shadow-lg border-2 border-gray-400 group mt-2">
                     <summary class="p-4 cursor-pointer flex justify-between items-center list-none">
                        <div class="flex items-center">
                            <span class="flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 text-primary flex items-center justify-center mr-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3 10h18M3 14h18m-9-4v8" /></svg>
                            </span>
                            <h2 class="text-base font-bold text-primary">Full Amortisation Schedule</h2>
                        </div>
                        <div class="flex items-center">
                            <span class="text-sm font-semibold text-gray-600 group-hover:text-primary mr-2">View Details</span>
                            <!-- UPDATED: Icon -->
                            <span class="plus-minus-icon text-primary">
                                <svg class="w-5 h-5 plus-icon" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
                                <svg class="w-5 h-5 minus-icon" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 12h-15" /></svg>
                            </span>
                        </div>
                    </summary>
                    <div class="schedule-content">
                        <div class="border-t p-4">
                            <div class="flex flex-col sm:flex-row justify-end items-center mb-2">
                                <div class="flex items-center gap-2 mt-2 sm:mt-0">
                                     <button id="downloadPDF" class="text-xs font-semibold text-primary hover:underline p-2 rounded-md hover:bg-gray-100">ðŸ“„ Download PDF</button>
                                     <button id="downloadCSV" class="text-xs font-semibold text-primary hover:underline p-2 rounded-md hover:bg-gray-100">ðŸ“Š Download CSV</button>
                                </div>
                            </div>
                            <div class="schedule-container overflow-x-auto max-h-96">
                                <table class="min-w-full text-xs">
                                    <thead class="bg-gray-50 sticky top-0">
                                        <tr>
                                            <th class="p-2 text-left">Month</th>
                                            <th class="p-2 text-right">Payment</th>
                                            <th class="p-2 text-right">Principal</th>
                                            <th class="p-2 text-right">Interest</th>
                                            <th class="p-2 text-right">Extra Payment</th>
                                            <th class="p-2 text-right">Ending Balance</th>
                                        </tr>
                                    </thead>
                                    <tbody id="amortizationTableBody" class="divide-y"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </details>
    
                <!-- NEW: Formula Explanation Section -->
                <div class="bg-white p-4 sm:p-5 mt-4 rounded-xl shadow-2xl max-w-none text-gray-800 space-y-4 text-xs border-2 border-gray-400">
                    <h2 class="text-lg font-extrabold text-primary !mb-4">How This Calculator Works: The Formulas</h2>
                    <p class="text-xs text-gray-700">This calculator builds a full month-by-month schedule for your loan to accurately project its payoff. It runs two simulations: one for your standard loan and one with your extra payments.</p>
                    
                    <section class="bg-gray-50/70 p-4 rounded-lg border border-gray-400">
                        <h3 class="text-base font-bold text-gray-800 flex items-center">
                            <span class="flex-shrink-0 w-6 h-6 rounded-full bg-primary text-white flex items-center justify-center mr-3 font-bold text-xs">1</span>
                            <span>The Monthly Payment Formula (PMT)</span>
                        </h3>
                        <p class="mt-2 text-xs">First, we calculate your base Principal & Interest (P&I) payment using the standard PMT formula. This formula is provided by `js/utils.js` and is the foundation for the schedule.</p>
                        <div class="p-2 mt-2 bg-white rounded border border-gray-400">
                            <code class="block font-semibold text-primary text-center">M = P * [r(1+r)^n] / [(1+r)^n - 1]</code>
                            <ul class="space-y-1 mt-2 text-gray-600 text-xs">
                                <li><strong>M</strong> = Your monthly P&I payment</li>
                                <li><strong>P</strong> = Your Loan Principal (e.g., $300,000)</li>
                                <li><strong>r</strong> = Your monthly interest rate (e.g., 6.5% / 12 / 100 = 0.005417)</li>
                                <li><strong>n</strong> = Your total number of payments (e.g., 30 years * 12 = 360)</li>
                            </ul>
                        </div>
                    </section>
    
                    <section class="bg-gray-50/70 p-4 rounded-lg border border-gray-400">
                        <h3 class="text-base font-bold text-gray-800 flex items-center">
                            <span class="flex-shrink-0 w-6 h-6 rounded-full bg-primary text-white flex items-center justify-center mr-3 font-bold text-xs">2</span>
                            <span>The Amortization Loop (Month by Month)</span>
                        </h3>
                        <p class="mt-2 text-xs">The calculator then loops through each month until the loan is paid off, performing the following calculations:</p>
                        <ul class="space-y-2 mt-2 text-xs list-none pl-2">
                            <li class="p-2 bg-white rounded border border-gray-400">
                                <code class="block font-semibold text-primary">Interest This Month = Current Balance * Monthly Rate (r)</code>
                            </li>
                            <li class="p-2 bg-white rounded border border-gray-400">
                                <code class="block font-semibold text-primary">Principal This Month = Monthly Payment (M) - Interest This Month</code>
                            </li>
                             <li class="p-2 bg-white rounded border border-gray-400">
                                <code class="block font-semibold text-accent">Total Principal Paid = Principal This Month + Extra Monthly + One-Time Payment (if applicable)</code>
                            </li>
                             <li class="p-2 bg-white rounded border border-gray-400">
                                <code class="block font-semibold text-primary">New Balance = Current Balance - Total Principal Paid</code>
                            </li>
                        </ul>
                    </section>
                    
                    <section class="bg-gray-50/70 p-4 rounded-lg border border-gray-400">
                        <h3 class="text-base font-bold text-gray-800 flex items-center">
                            <span class="flex-shrink-0 w-6 h-6 rounded-full bg-primary text-white flex items-center justify-center mr-3 font-bold text-xs">3</span>
                            <span>Opportunity Cost Formula</span>
                        </h3>
                        <p class="mt-2 text-xs">When you add extra payments, the "Opportunity Cost" chart simulates what would happen if you invested that extra money instead. It calculates the future value of your extra payments using a compound interest formula.</p>
                        <ul class="space-y-2 mt-2 text-xs list-none pl-2">
                            <li class="p-2 bg-white rounded border border-gray-400">
                                <code class="block font-semibold text-secondary">Periodic Investment Rate = Annual Investment Return / 12 / 100</code>
                            </li>
                            <li class="p-2 bg-white rounded border border-gray-400">
                                <code class="block font-semibold text-secondary">New Investment Value = (Previous Value + All Extra Payments This Month) * (1 + Periodic Investment Rate)</code>
                            </li>
                        </ul>
                    </section>
                </div>
    
                <!-- SEO Content Section -->
                <!-- UPDATED: Reduced p-4 sm:p-5 to p-4 and mt-4 to mt-2 -->
                <div class="bg-white p-4 mt-2 rounded-xl shadow-2xl max-w-none text-gray-800 space-y-4 text-xs border-2 border-gray-400">
                    <h2 class="text-lg font-extrabold text-primary !mb-4">A Homeowner's Guide to Mortgage Amortisation</h2>
                    
                    <section class="bg-gray-50/70 p-4 rounded-lg border border-gray-400">
                        <h3 class="text-base font-bold text-gray-800">What is a Mortgage Amortisation Schedule?</h3>
                        <p class="mt-2 text-xs">An <strong>amortisation schedule</strong> is a detailed, month-by-month table that shows exactly where your mortgage payment goes. It breaks down each payment into two key components:</p>
                        <ul class="space-y-2 mt-2 text-xs">
                            <li class="flex items-start">
                                 <span class="flex-shrink-0 w-5 h-5 mr-2 text-accent"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" /></svg></span>
                                <div><strong>Principal:</strong> The portion of your payment that goes toward paying down the actual loan amount you borrowed. This is what builds your home equity.</div>
                            </li>
                            <li class="flex items-start">
                                <span class="flex-shrink-0 w-5 h-5 mr-2 text-secondary">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                      <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 19.5l15-15" />
                                      <path d="M8.625 10.125a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z" />
                                      <path d="M18.375 15.375a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z" />
                                    </svg>
                                </span>
                                <div><strong>Interest:</strong> The fee you pay to the lender for the privilege of borrowing money. This is the lender's profit and does not reduce your loan balance.</div>
                            </li>
                        </ul>
                    </section>
    
                    <section class="bg-gray-50/70 p-4 rounded-lg border border-gray-400">
                        <h3 class="text-base font-bold text-gray-800">How to Read Your Amortisation Table</h3>
                        <p class="mt-2 text-xs">Understanding your <strong>loan amortization schedule</strong> is key to financial planning. When you use this calculator, it generates an <strong>amortization table mortgage</strong> lenders use, which shows a clear breakdown. Each row in the table represents one payment period (usually a month) and contains several important columns:</p>
                        <ul class="space-y-2 mt-2 text-xs">
                            <li class="flex items-start">
                                <span class="font-bold text-primary mr-2">Â»</span>
                                <div><strong>Payment:</strong> This is your fixed monthly principal and interest payment. It remains constant throughout the loan (unless you have an ARM).</div>
                            </li>
                            <li class="flex items-start">
                                <span class="font-bold text-primary mr-2">Â»</span>
                                <div><strong>Principal:</strong> The amount of your payment that reduces your loan balance. This number starts small and grows larger over time.</div>
                            </li>
                            <li class="flex items-start">
                                <span class="font-bold text-primary mr-2">Â»</span>
                                <div><strong>Interest:</strong> The portion of your payment that goes to the lender. This number is largest at the beginning and shrinks with every payment.</div>
                            </li>
                             <li class="flex items-start">
                                <span class="font-bold text-primary mr-2">Â»</span>
                                <div><strong>Ending Balance:</strong> Your remaining loan balance after the payment is applied. Watching this number go down is one of the most satisfying parts of homeownership! The <strong>mortgage amortization chart</strong> above visualizes this decline.</div>
                            </li>
                        </ul>
                    </section>
    
                    <section class="bg-gray-50/70 p-4 rounded-lg border border-gray-400">
                        <h3 class="text-base font-bold text-gray-800">Amortisation for Different Terms</h3>
                        <p class="mt-2 text-xs">The length of your loan has a massive impact on your monthly payment and the total interest you'll pay. Use the tabs below to see a quick comparison for the same loan amount.</p>
                        <div id="term-tabs-container" class="my-4 flex justify-center space-x-2 rounded-lg bg-gray-200 p-1">
                            <button class="term-tab w-full rounded-md py-2 px-4 text-xs font-semibold text-gray-700" data-term="15">15 Year</button>
                            <button class="term-tab w-full rounded-md py-2 px-4 text-xs font-semibold text-gray-700" data-term="20">20 Year</button>
                            <button class="term-tab w-full rounded-md py-2 px-4 text-xs font-semibold text-gray-700 active" data-term="30">30 Year</button>
                        </div>
                        <div class="relative h-56">
                            <canvas id="termComparisonChart"></canvas>
                        </div>
                        <div id="term-comparison-summary" class="mt-4 text-xs text-center bg-primary/10 p-3 rounded-lg">
                            <!-- Summary text will be injected here by JS -->
                        </div>
                    </section>
    
                    <section class="bg-gray-50/70 p-4 rounded-lg border border-gray-400">
                        <h3 class="text-base font-bold text-gray-800">Amortisation in Action: An Example Scenario</h3>
                        <p class="mt-2 text-xs">Let's look at a common <strong>amortization example</strong>: a $300,000 loan at 6.5% interest on a <strong>30-year schedule</strong>. The chart below visualizes how the principal and interest portions of your payment change over time.</p>
                        <div class="relative h-56 mt-4">
                            <canvas id="exampleAmortizationChart"></canvas>
                        </div>
                        <p class="text-xs text-center mt-2 italic">Notice how the blue "Interest Paid" area dominates in the early years, while the green "Principal Paid" area grows significantly toward the end of the loan.</p>
                    </section>
                    
                    <section class="bg-gray-50/70 p-4 rounded-lg border border-gray-400">
                         <h3 class="text-base font-bold text-gray-800">Strategies to Pay Off Your Mortgage Faster</h3>
                         <p class="mt-2 text-xs">This calculator demonstrates the secret weapon for homeowners: <strong>extra principal payments</strong>. By adding even a small amount to your monthly payment, you can dramatically shorten your loan term and save thousands. Here are the most common strategies:</p>
                         <ul class="space-y-2 mt-2 text-xs">
                            <li class="flex items-start">
                                <span class="flex-shrink-0 w-5 h-5 mr-2 text-primary"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01M12 6v.01M12 18v-2m0-2v-2m0-2V7m0 0V6" /></svg></span>
                                <div><strong>Make Extra Monthly Payments:</strong> Consistently adding a small amountâ€”even $50 or $100â€”to your regular payment can shave years off your loan.</div>
                            </li>
                            <li class="flex items-start">
                                <span class="flex-shrink-0 w-5 h-5 mr-2 text-primary"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M5 19V5a2 2 0 012-2h10a2 2 0 012 2v14l-5-2.5L5 19z" /></svg></span>
                                <div><strong>Make a One-Time Lump Sum Payment:</strong> If you receive a bonus, inheritance, or tax refund, applying it directly to your principal can make a huge dent in your loan balance and future interest payments.</div>
                            </li>
                            <li class="flex items-start">
                                <span class="flex-shrink-0 w-5 h-5 mr-2 text-primary"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg></span>
                                <div><strong>Use a Bi-Weekly Payment Plan:</strong> By paying half your mortgage every two weeks, you'll make 26 half-payments a year, which equals 13 full monthly payments. That one extra payment goes straight to principal.</div>
                            </li>
                            <li class="flex items-start">
                                 <span class="flex-shrink-0 w-5 h-5 mr-2 text-primary"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" /></svg></span>
                                <div><strong>Refinance to a Shorter Term:</strong> Switching from a 30-year to a 15-year mortgage will increase your monthly payment but save you a massive amount in total interest.</div>
                            </li>
                        </ul>
                    </section>
    
                    <section class="bg-gray-50/70 p-4 rounded-lg border border-gray-400">
                        <!-- H3: Content sub-heading -->
                        <h3 class="text-base font-bold text-gray-800 text-center">Is Paying Off Your Mortgage Early Always the Best Idea?</h3>
                        <p class="mt-2 text-xs text-center">Being debt-free is a great goal, but sometimes your money can work harder elsewhere. Consider the "opportunity cost":</p>
                        <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                            <!-- Card 1: High-Interest Debt -->
                            <div class="bg-white p-4 rounded-lg border border-red-200 shadow-sm">
                                <div class="flex items-start gap-4">
                                    <div class="flex-shrink-0 flex items-center justify-center h-10 w-10 rounded-full bg-red-100 text-red-600" aria-hidden="true">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"> <path stroke-linecap="round" stroke-linejoin="round" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" /> </svg>
                                    </div>
                                    <div>
                                        <!-- H4: Sub-section heading -->
                                        <h4 class="font-bold text-red-800">Tackle High-Interest Debt First</h4>
                                        <p class="text-xs mt-1 text-gray-600">If you have debts like credit cards with high interest rates (>10%), paying those off first will almost always provide a better 'return' on your money than paying down a low-interest mortgage.</p>
                                    </div>
                                </div>
                            </div>
    
                            <!-- Card 2: Investment Opportunity -->
                            <div class="bg-white p-4 rounded-lg border border-green-200 shadow-sm">
                                <div class="flex items-start gap-4">
                                    <div class="flex-shrink-0 flex items-center justify-center h-10 w-10 rounded-full bg-green-100 text-green-600" aria-hidden="true">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                          <path stroke-linecap="round" stroke-linejoin="round" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                                        </svg>
                                    </div>
                                    <div>
                                        <!-- H4: Sub-section heading -->
                                        <h4 class="font-bold text-green-800">Consider Investment Returns</h4>
                                        <p class="text-xs mt-1 text-gray-600">If your mortgage rate is very low (e.g., 3-4%), you could potentially earn a higher long-term return by investing your extra cash in the stock market (which has historically averaged 7-10%) instead.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
    
                    <section class="py-4">
                        <!-- H3: FAQ grouping -->
                        <h3 class="text-base font-bold text-primary mb-3 text-center">Frequently Asked Questions</h3>
                        <div class="max-w-3xl mx-auto border-t border-b border-gray-400 divide-y divide-gray-400" id="faq-accordion">
                            <div class="faq-item">
                                <button class="faq-question w-full flex justify-between items-center text-left text-gray-800 font-semibold p-4 hover:bg-gray-50 transition focus:outline-none focus-visible:ring-2 focus-visible:ring-primary">
                                    <span class="text-xs">What does mortgage amortization mean?</span>
                                    <svg class="faq-chevron w-5 h-5 transform transition-transform text-primary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" /></svg>
                                </button>
                                <div class="faq-answer">
                                    <div class="p-4 pt-0 text-gray-600 text-xs">
                                        <p>Mortgage amortization is the process of paying off your home loan over time with regular, fixed payments. Each payment is split between principal (the amount you borrowed) and interest (the cost of borrowing). An amortization schedule shows you exactly how this split works for every payment.</p>
                                    </div>
                                </div>
                            </div>
                             <div class="faq-item">
                                <button class="faq-question w-full flex justify-between items-center text-left text-gray-800 font-semibold p-4 hover:bg-gray-50 transition focus:outline-none focus-visible:ring-2 focus-visible:ring-primary">
                                    <span class="text-xs">How much of my payment goes to interest vs principal?</span>
                                    <svg class="faq-chevron w-5 h-5 transform transition-transform text-primary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" /></svg>
                                </button>
                                <div class="faq-answer">
                                    <div class="p-4 pt-0 text-gray-600 text-xs">
                                        <p>At the beginning of your loan, a larger portion of your payment goes toward interest because your loan balance is at its highest. As you pay down the balance, the interest portion shrinks, and more of your payment goes toward the principal. Our "Amortisation in Action" chart visualizes this shift perfectly.</p>
                                    </div>
                                </div>
                            </div>
                             <div class="faq-item">
                                <button class="faq-question w-full flex justify-between items-center text-left text-gray-800 font-semibold p-4 hover:bg-gray-50 transition focus:outline-none focus-visible:ring-2 focus-visible:ring-primary">
                                    <span class="text-xs">How can I pay off my mortgage faster?</span>
                                    <svg class="faq-chevron w-5 h-5 transform transition-transform text-primary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" /></svg>
                                </button>
                                <div class="faq-answer">
                                    <div class="p-4 pt-0 text-gray-600 text-xs">
                                       <p>The most effective way is to make extra payments directly to the principal. This can be done by adding a little extra to your monthly payment, making a one-time lump-sum payment (like from a bonus), or switching to a bi-weekly payment schedule.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="faq-item">
                                <button class="faq-question w-full flex justify-between items-center text-left text-gray-800 font-semibold p-4 hover:bg-gray-50 transition focus:outline-none focus-visible:ring-2 focus-visible:ring-primary">
                                    <span class="text-xs">Whatâ€™s the difference between amortized and interest-only loans?</span>
                                    <svg class="faq-chevron w-5 h-5 transform transition-transform text-primary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" /></svg>
                                </button>
                                <div class="faq-answer">
                                    <div class="p-4 pt-0 text-gray-600 text-xs">
                                       <p>An amortized loan (like the one this calculator models) includes both principal and interest in each payment, ensuring the loan is fully paid off by the end of the term. An interest-only loan requires you to pay only the interest for a set period, which results in lower initial payments but doesn't reduce your loan balance.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="faq-item">
                                <button class="faq-question w-full flex justify-between items-center text-left text-gray-800 font-semibold p-4 hover:bg-gray-50 transition focus:outline-none focus-visible:ring-2 focus-visible:ring-primary">
                                    <span class="text-xs">Can I change amortization terms mid-loan?</span>
                                    <svg class="faq-chevron w-5 h-5 transform transition-transform text-primary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" /></svg>
                                </button>
                                <div class="faq-answer">
                                    <div class="p-4 pt-0 text-gray-600 text-xs">
                                       <p>Yes, the most common way to change your amortization term is by refinancing your mortgage. For example, you could refinance a 30-year loan into a 15-year loan to pay it off faster, which will create a new amortization schedule.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </main>

            <!-- UPDATED: Added aside as sibling to main -->
            <aside id="desktop-sidebar-placeholder"></aside>
        </div>
    </main>
    <script src="../global-elements.js" defer></script>
    <script src="../js/utils.js" defer></script>
    <script src="mortgage-amortisation-calculator.js" defer></script>
</body>
</html>
