<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Meta Title: 60 chars -->
    <title>Advanced Down Payment Calculator for Home Purchase</title>
    
    <!-- SEO & Meta Tags -->
    <!-- Meta Description: 156 chars -->
    <meta name="description" content="Calculate your home down payment, see its impact on monthly payments and loan terms, and plan your savings goal. Our advanced estimator helps you understand LTV, PMI, and more.">
    <meta name="keywords" content="down payment calculator, mortgage down payment calculator, home down payment estimator, how much down payment do I need, down payment savings calculator, home loan calculator, PMI calculator, LTV calculator">
    <meta name="author" content="Vikas Rana">
    <!-- Adding SVG icon for high-DPI screens and branding -->
    <link rel="icon" href="data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='100' height='100' rx='20' fill='%231C768F'/%3E%3Cpath d='M50 25L25 45V75H41.6667V58.3333H58.3333V75H75V45L50 25Z' stroke='white' stroke-width='5' stroke-linejoin='round'/%3E%3Cpath d='M40 65L50 55L60 65' stroke='white' stroke-width='5' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M50 55V45' stroke='white' stroke-width='5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E">
    <link rel="canonical" href="https://mortgageplanner.toolblaster.com/calculators/down-payment-calculator.html" />

    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js" defer></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    
    <!-- App Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#1C768F', 'accent': '#166534', 'secondary': '#b45309'
                    },
                    fontFamily: { sans: ['Inter', 'sans-serif'] }
                }
            }
        }
    </script>

    <!-- Global & Page-Specific Styles -->
    <link rel="stylesheet" href="../style.css">
    <style>
        /* UPDATED: Removed FAQ specific styles as they are no longer needed */
        details summary::-webkit-details-marker { display: none; }
        
        /* UPDATED: Plus/minus icon styles */
        details summary .minus-icon { display: none; }
        details summary .plus-icon { display: block; }
        details[open] summary .minus-icon { display: block; }
        details[open] summary .plus-icon { display: none; }
    </style>
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "WebApplication",
          "name": "Advanced Down Payment Calculator",
          "description": "Calculate your home down payment, see its impact on monthly payments and loan terms, and plan your savings goal with our advanced estimator.",
          "applicationCategory": "FinanceApplication",
          "operatingSystem": "Any (Web Application)",
          "url": "https://mortgageplanner.toolblaster.com/calculators/down-payment-calculator.html",
          "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
          }
        },
        {
          "@type": "BreadcrumbList",
          "itemListElement": [{
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://mortgageplanner.toolblaster.com/"
          },{
            "@type": "ListItem",
            "position": 2,
            "name": "Calculators",
            "item": "https://mortgageplanner.toolblaster.com/calculators/"
          },{
            "@type": "ListItem",
            "position": 3,
            "name": "Down Payment Calculator"
          }]
        },
        {
          "@type": "HowTo",
          "name": "How to Use the Advanced Down Payment Calculator",
          "step": [
            {
              "@type": "HowToStep",
              "name": "Step 1: Enter the Home Price",
              "text": "Start by inputting the total price of the home you are considering. You can use the slider for quick adjustments or type in a precise number."
            },
            {
              "@type": "HowToStep",
              "name": "Step 2: Set Your Down Payment",
              "text": "Use the toggle to switch between a percentage (%) of the home price or a specific dollar amount ($). Adjust the slider to see how different down payment amounts affect your loan."
            },
            {
              "@type": "HowToStep",
              "name": "Step 3: Adjust Loan Assumptions",
              "text": "Enter your expected loan term (e.g., 30 or 15 years) and the interest rate you anticipate. This is crucial for calculating your monthly payment."
            },
            {
                "@type": "HowToStep",
                "name": "Step 4: Plan Your Savings Goal (Optional)",
                "text": "In the 'Advanced Features' section, enter your target down payment percentage and how much you can save each month to see a projection of how long it will take to reach your goal."
            },
            {
              "@type": "HowToStep",
              "name": "Step 5: Analyze Your Results",
              "text": "Review the output section to see your final down payment, loan amount, total monthly payment (including PMI, taxes, and insurance), and key metrics like the LTV ratio."
            }
          ]
        },
        {
          "@type": "FAQPage",
          "mainEntity": [
            {
              "@type": "Question",
              "name": "How much should I put down on a house?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "While 20% is the traditional goal to avoid Private Mortgage Insurance (PMI) and secure better loan terms, it is not always required. Many first-time buyers use programs like FHA loans (3.5% down) or conventional loans (3-5% down). The right amount depends on your savings, the loan type you qualify for, and your comfort with the monthly payment."
              }
            },
            {
              "@type": "Question",
              "name": "What is the minimum down payment for a mortgage?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "The minimum down payment depends on the loan type. VA and USDA loans can be 0% for eligible borrowers. FHA loans require as little as 3.5% down. Some conventional loan programs for first-time homebuyers offer 3% down options. Our mortgage down payment calculator can help you model these different scenarios."
              }
            },
            {
              "@type": "Question",
              "name": "Do I need 20% down to avoid PMI?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "For conventional loans, yes. A down payment of less than 20% (resulting in a Loan-to-Value ratio over 80%) typically requires you to pay Private Mortgage Insurance (PMI). This is an extra monthly fee that protects the lender. Government-backed loans like VA do not have PMI, and FHA loans have their own form of mortgage insurance."
              }
            },
            {
              "@type": "Question",
              "name": "Does a higher down payment lower my monthly payment?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Yes, absolutely. A higher down payment means you are borrowing less money, which directly reduces the principal and interest portion of your monthly payment. It can also help you avoid PMI, further lowering your total monthly housing cost."
              }
            },
            {
              "@type": "Question",
              "name": "What’s included in a mortgage payment besides principal and interest?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Your total monthly housing payment is often called 'PITI.' It includes Principal, Interest, Taxes (property taxes), and Insurance (homeowner's insurance). Your lender often collects the tax and insurance portions in an escrow account and pays them on your behalf. Our main Mortgage Calculator allows you to input all these costs for a complete picture."
              }
            }
          ]
        }
      ]
    }
    </script>
</head>
<body class="bg-gray-100 text-sm">
    <main class="content-wrapper">
        <!-- Breadcrumb (Visible, Left Aligned) -->
        <nav aria-label="Breadcrumb" class="container-global mt-4 mb-1 text-xs text-gray-500">
            <ol class="list-none p-0 inline-flex">
                <li class="flex items-center">
                    <a href="https://mortgageplanner.toolblaster.com/" class="hover:text-primary">Home</a>
                    <svg class="w-3 h-3 mx-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg>
                </li>
                <li class="flex items-center">
                    <a href="https://mortgageplanner.toolblaster.com/calculators/" class="hover:text-primary">Calculators</a>
                    <svg class="w-3 h-3 mx-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg>
                </li>
                <li>
                    <span class="text-gray-800 font-semibold" aria-current="page">Down Payment Calculator</span>
                </li>
            </ol>
        </nav>

        <!-- UPDATED: Added .calculator-layout-grid class -->
        <div class="container-global calculator-layout-grid mt-1 mb-4 space-y-4 lg:space-y-0">
            <!-- UPDATED: Wrapped main content in <main> tag for 80% column -->
            <main class="space-y-4">
                <!-- UPDATED: Reduced padding from p-3 sm:p-4 to p-3 -->
                <div id="calculator-container" class="bg-white p-3 rounded-xl shadow-2xl">
                    <!-- Header -->
                    <header class="text-center mb-4 p-4 rounded-lg bg-gradient-to-r from-primary to-accent shadow-md">
                        <!-- H1: Main heading for the page -->
                        <h1 class="text-xl font-extrabold text-white">Advanced Down Payment Calculator</h1>
                        <p class="mt-1 text-xs text-gray-200">See how your down payment impacts your loan, monthly costs, and savings timeline.</p>
                    </header>
    
                    <!-- FUTURE AD SLOT (Responsive Banner / 728x90) -->
                    <div class="my-4 flex min-h-[90px] w-full items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 text-gray-400 hidden">
                        Future Ad Placeholder (e.g., 728x90)
                    </div>
                    <!-- END: Ad Slot Placeholder -->

                    <!-- UPDATED: Reduced gap-4 to gap-3 -->
                    <div class="grid grid-cols-1 lg:grid-cols-5 gap-3">
                        <!-- Input Column -->
                        <!-- UPDATED: Reduced space-y-3 to space-y-2 -->
                        <div class="lg:col-span-2 space-y-2">
                            <details open class="bg-gray-50 border-2 border-gray-400 rounded-lg">
                                <!-- UPDATED: Reduced p-3 to p-2 -->
                                <summary class="p-2 font-bold text-sm text-primary cursor-pointer list-none flex justify-between items-center">
                                    Purchase Details
                                    <!-- H2: Implicit grouping for inputs -->
                                    <!-- UPDATED: Icon -->
                                    <span class="plus-minus-icon text-primary">
                                        <svg class="w-4 h-4 plus-icon" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
                                        <svg class="w-4 h-4 minus-icon" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 12h-15" /></svg>
                                    </span>
                                </summary>
                                <!-- UPDATED: Reduced p-3 to p-2 -->
                                <div class="p-2 border-t">
                                    <!-- UPDATED: Reduced space-y-4 to space-y-3 -->
                                    <div class="space-y-3">
                                        <!-- Home Price -->
                                        <div>
                                            <div class="flex justify-between items-center">
                                                <label for="homePrice" class="block font-medium text-xs text-gray-700">Home Price (<span id="currency-symbol">$</span>):</label>
                                                <input type="number" id="homePrice" value="450000" class="w-24 p-1 text-xs text-right border border-gray-300 rounded-md">
                                            </div>
                                            <input type="range" id="homePriceSlider" min="50000" max="2000000" value="450000" step="5000" class="w-full mt-2 range-slider" aria-labelledby="homePrice">
                                        </div>
                                        <!-- Down Payment -->
                                        <div>
                                            <div class="flex justify-between items-center mb-2">
                                                <label id="downPaymentLabel" class="block font-medium text-xs text-gray-700">Down Payment:</label>
                                                <div class="flex items-center bg-gray-200 rounded-lg p-0.5" role="radiogroup" aria-labelledby="downPaymentLabel">
                                                    <button id="dpTypePercent" role="radio" aria-checked="true" class="px-2 py-1 text-xs font-bold rounded-md bg-primary text-white">%</button>
                                                    <button id="dpTypeAmount" role="radio" aria-checked="false" class="px-2 py-1 text-xs font-bold rounded-md text-gray-600">$</button>
                                                </div>
                                            </div>
                                            <div class="flex items-center space-x-2">
                                                <input type="range" id="downPaymentSlider" min="0" max="50" value="10" step="0.5" class="w-full range-slider" aria-labelledby="downPaymentLabel">
                                                <input type="number" id="downPaymentInput" value="10" class="w-20 p-1 text-xs text-right border border-gray-300 rounded-md" aria-labelledby="downPaymentLabel">
                                            </div>
                                        </div>
                                        <!-- Currency -->
                                         <div>
                                            <label for="currency" class="block font-medium text-xs text-gray-700">Currency:</label>
                                            <select id="currency" class="w-full p-1 text-xs border border-gray-300 rounded-md h-[28px]">
                                                <option value="USD">USD ($)</option>
                                                <option value="EUR">EUR (€)</option>
                                                <option value="GBP">GBP (£)</option>
                                                <option value="CAD">CAD (C$)</option>
                                                <option value="AUD">AUD (A$)</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </details>
    
                            <details open class="bg-gray-50 border-2 border-gray-400 rounded-lg">
                                 <!-- UPDATED: Reduced p-3 to p-2 -->
                                 <summary class="p-2 font-bold text-sm text-primary cursor-pointer list-none flex justify-between items-center">
                                    Loan Assumptions
                                    <!-- H2: Implicit grouping for inputs -->
                                    <!-- UPDATED: Icon -->
                                    <span class="plus-minus-icon text-primary">
                                        <svg class="w-4 h-4 plus-icon" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
                                        <svg class="w-4 h-4 minus-icon" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 12h-15" /></svg>
                                    </span>
                                </summary>
                                <!-- UPDATED: Reduced p-3 to p-2 -->
                                <div class="p-2 border-t">
                                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                        <div>
                                            <label for="loanTerm" class="block font-medium text-xs text-gray-700">Loan Term (Years):</label>
                                            <input type="number" id="loanTerm" value="30" class="w-full p-1 text-xs border border-gray-300 rounded-md">
                                        </div>
                                        <div>
                                            <label for="interestRate" class="block font-medium text-xs text-gray-700">Interest Rate (%):</label>
                                            <input type="number" id="interestRate" value="6.5" step="0.01" class="w-full p-1 text-xs border border-gray-300 rounded-md">
                                        </div>
                                        <div class="sm:col-span-2">
                                             <label for="loanType" class="block font-medium text-xs text-gray-700">Loan Type:</label>
                                             <select id="loanType" class="w-full p-1 text-xs border border-gray-300 rounded-md h-[28px]">
                                                 <option value="conventional">Conventional</option>
                                                 <option value="fha">FHA</option>
                                                 <option value="va">VA</option>
                                                 <option value="usda">USDA</option>
                                             </select>
                                        </div>
                                    </div>
                                </div>
                            </details>
    
                            <details open class="bg-gray-50 border-2 border-gray-400 rounded-lg">
                                <!-- UPDATED: Reduced p-3 to p-2 -->
                                <summary class="p-2 font-bold text-sm text-primary cursor-pointer list-none flex justify-between items-center">
                                    Advanced Features
                                    <!-- H2: Implicit grouping for inputs -->
                                    <!-- UPDATED: Icon -->
                                    <span class="plus-minus-icon text-primary">
                                        <svg class="w-4 h-4 plus-icon" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
                                        <svg class="w-4 h-4 minus-icon" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 12h-15" /></svg>
                                    </span>
                                </summary>
                                 <!-- UPDATED: Reduced p-3 to p-2 and space-y-3 to space-y-2 -->
                                 <div class="p-2 border-t space-y-2">
                                    <div>
                                        <!-- H3: Sub-grouping -->
                                        <h3 class="text-sm font-bold text-secondary mb-2">Down Payment Savings Goal</h3>
                                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                            <div>
                                                <label for="targetDownPayment" class="block font-medium text-xs text-gray-700">Target DP (%):</label>
                                                <input type="number" id="targetDownPayment" value="20" class="w-full p-1 text-xs border border-gray-300 rounded-md">
                                            </div>
                                            <div>
                                                <label for="monthlySavings" class="block font-medium text-xs text-gray-700">Monthly Savings (<span class="currency-symbol-small">$</span>):</label>
                                                <input type="number" id="monthlySavings" value="500" class="w-full p-1 text-xs border border-gray-300 rounded-md">
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <!-- H3: Sub-grouping -->
                                        <h3 class="text-sm font-bold text-primary mb-2">Optional Annual Costs</h3>
                                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                            <div>
                                                <label for="propertyTaxes" class="block font-medium text-xs text-gray-700">Property Taxes (<span class="currency-symbol-small">$</span>):</label>
                                                <input type="number" id="propertyTaxes" value="4000" class="w-full p-1 text-xs border border-gray-300 rounded-md">
                                            </div>
                                            <div>
                                                <label for="homeInsurance" class="block font-medium text-xs text-gray-700">Home Insurance (<span class="currency-symbol-small">$</span>):</label>
                                                <input type="number" id="homeInsurance" value="1200" class="w-full p-1 text-xs border border-gray-300 rounded-md">
                                            </div>
                                        </div>
                                    </div>
                                 </div>
                            </details>
                            
                            <div class="sticky bottom-2 sm:bottom-4">
                                <button id="saveScenarioBtn" class="w-full px-4 py-1.5 bg-accent text-white font-bold rounded-lg shadow-lg hover:bg-green-800 transition duration-150 text-xs">
                                    Save & Share Estimate
                                </button>
                                <p id="saveFeedback" class="text-xs text-accent text-center h-5 mt-1"></p>
                            </div>
                        </div>
    
                        <!-- Results Column -->
                        <!-- UPDATED: Reduced space-y-3 to space-y-2 and removed min-h-[500px] -->
                        <div class="lg:col-span-3 space-y-2 min-h-0">
                            <!-- UPDATED: Reduced gap-3 to gap-2 -->
                            <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 text-center">
                                <!-- UPDATED: Reduced p-3 to p-2 -->
                                <div class="p-2 rounded-lg bg-accent/10 border-2 border-accent/50 shadow">
                                    <!-- H3: Result heading -->
                                    <h3 class="text-xs font-bold text-accent">Down Payment</h3>
                                    <p id="downPaymentAmount" class="text-lg font-extrabold text-accent" data-value="0">$0</p>
                                </div>
                                <!-- UPDATED: Reduced p-3 to p-2 -->
                                <div class="p-2 rounded-lg bg-gray-100 border border-gray-400 shadow">
                                    <!-- H3: Result heading -->
                                    <h3 class="text-xs font-bold text-gray-800">Loan Amount</h3>
                                    <p id="loanAmount" class="text-lg font-extrabold text-gray-800" data-value="0">$0</p>
                                </div>
                                <!-- UPDATED: Reduced p-3 to p-2 -->
                                <div class="p-2 rounded-lg bg-primary/10 border-2 border-primary/50 shadow">
                                    <!-- H3: Result heading -->
                                    <h3 class="text-xs font-bold text-primary">Total Monthly Payment</h3>
                                    <p id="totalMonthlyPayment" class="text-lg font-extrabold text-primary" data-value="0">$0</p>
                                </div>
                            </div>
    
                            <!-- UPDATED: Reduced p-3 to p-2 -->
                            <div id="savingsGoalResult" class="hidden p-2 rounded-lg bg-secondary/10 border-2 border-secondary/50 shadow text-center">
                                <!-- Savings goal text injected here -->
                            </div>
    
                            <!-- UPDATED: Reduced p-3 to p-2 -->
                            <div id="pmiSection" class="hidden p-2 rounded-lg bg-red-50/70 border-2 border-red-300 shadow text-center">
                                <!-- H3: Result heading -->
                                <h3 class="text-sm font-bold text-red-700">Estimated Private Mortgage Insurance (PMI)</h3>
                                <p id="pmiAmount" class="text-base font-extrabold text-red-600" data-value="0">~$0 / month</p>
                                <p class="text-xs text-red-800">Required because your Loan-to-Value (LTV) is over 80%.</p>
                            </div>
                            
                            <!-- UPDATED: Reduced gap-3 to gap-2 -->
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
                                 <!-- UPDATED: Reduced p-3 to p-2 -->
                                 <div class="p-2 bg-gray-50 rounded-lg shadow-inner border border-gray-400">
                                    <!-- H2: Grouping for results -->
                                    <h2 class="font-bold text-primary text-center text-sm">Loan Breakdown</h2>
                                    <!-- UPDATED: Reduced h-48 md:h-56 to h-44 -->
                                    <div class="relative h-44 mt-2">
                                        <canvas id="loanPieChart" role="img" aria-label="Pie chart showing down payment vs. loan amount"></canvas>
                                    </div>
                                </div>
                                 <!-- UPDATED: Reduced p-3 to p-2 -->
                                 <div class="p-2 bg-gray-50 rounded-lg shadow-inner border border-gray-400">
                                    <!-- H2: Grouping for results -->
                                    <h2 class="font-bold text-primary text-center text-sm">Payment & Ratio Details</h2>
                                    <!-- UPDATED: Reduced space-y-3 to space-y-2 and mt-4 to mt-2 -->
                                    <div class="space-y-2 mt-2 text-center">
                                        <div>
                                            <!-- H3: Result heading -->
                                            <h3 class="text-xs font-medium text-gray-600">Principal & Interest (P&I)</h3>
                                            <p id="piPayment" class="text-sm font-extrabold text-gray-700" data-value="0">$0</p>
                                        </div>
                                        <div>
                                            <!-- H3: Result heading -->
                                            <h3 class="text-xs font-medium text-gray-600">Taxes & Insurance</h3>
                                            <p id="tiPayment" class="text-sm font-extrabold text-gray-700" data-value="0">$0</p>
                                        </div>
                                         <div>
                                            <!-- H3: Result heading -->
                                            <h3 class="text-xs font-medium text-gray-600">
                                                <span class="tooltip-container">Loan-to-Value (LTV) Ratio
                                                    <span class="tooltip-icon" tabindex="0" aria-label="LTV tooltip">?</span>
                                                    <span class="tooltip-text" role="tooltip">The percentage of the home's price that is covered by the loan. Lenders use this to assess risk.</span>
                                                </span>
                                            </h3>
                                            <p id="ltvRatio" class="text-base font-extrabold text-primary" data-value="0">0%</p>
                                        </div>
                                         <div>
                                            <!-- H3: Result heading -->
                                            <h3 class="text-xs font-medium text-gray-600">Estimated Closing Costs (2-5%)</h3>
                                            <p id="closingCosts" class="text-sm font-extrabold text-gray-700" data-value="0">$0</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- UPDATED: Reduced p-3 to p-2 -->
                            <div class="p-2 bg-gray-50 rounded-lg shadow-inner border border-gray-400">
                                <!-- H2: Grouping for results -->
                                <h2 class="font-bold text-primary text-center text-sm">Quick Loan Comparison</h2>
                                <div class="text-center mt-2">
                                    <p class="text-xs">Switching to a <strong>15-year term</strong> could change your payment and savings:</p>
                                    <div class="grid grid-cols-2 gap-2 mt-2">
                                        <div class="bg-primary/10 p-2 rounded">
                                            <!-- H3: Result heading -->
                                            <h3 class="text-xs font-semibold text-primary">New 15-Yr Payment</h3>
                                            <p id="compare15yrPayment" class="font-bold text-primary text-sm">$0</p>
                                        </div>
                                         <div class="bg-accent/10 p-2 rounded">
                                            <!-- H3: Result heading -->
                                            <h3 class="text-xs font-semibold text-accent">Total Interest Saved</h3>
                                            <p id="compare15yrInterestSaved" class="font-bold text-accent text-sm">$0</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
    
                            <!-- UPDATED: Reduced p-4 to p-3 and mt-4 to mt-2 -->
                            <div class="mt-2 text-center p-3 bg-accent/10 border border-accent/20 rounded-lg">
                                <!-- H3: Call to action heading -->
                                <h3 class="font-bold text-accent text-sm">Ready for the next step?</h3>
                                <p class="text-xs text-gray-700 mt-1">See how this down payment fits into your overall budget with our full affordability analysis.</p>
                                 <a href="https://mortgageplanner.toolblaster.com/all-in-one-mortgage-planner.html#affordability-tab" class="mt-2 inline-block text-xs font-semibold text-primary hover:underline">
                                    Go to the Affordability Calculator &rarr;
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- NEW: Formula Explanation Section -->
                <div class="bg-white p-4 sm:p-5 mt-4 rounded-xl shadow-2xl max-w-none text-gray-800 space-y-4 text-xs border-2 border-gray-400">
                    <h2 class="text-lg font-extrabold text-primary !mb-4">How This Calculator Works: The Formulas</h2>
                    <p class="text-xs text-gray-700">This calculator uses a combination of basic arithmetic and standard financial formulas to estimate your payments and savings. Here’s a transparent look at the logic.</p>
                    
                    <section class="bg-gray-50/70 p-4 rounded-lg border border-gray-400">
                        <h3 class="text-base font-bold text-gray-800 flex items-center">
                            <span class="flex-shrink-0 w-6 h-6 rounded-full bg-primary text-white flex items-center justify-center mr-3 font-bold text-xs">1</span>
                            <span>Core Loan & Payment Formulas</span>
                        </h3>
                        <p class="mt-2 text-xs">The calculator first determines your loan amount and then your monthly payment for Principal & Interest (P&I).</p>
                        <ul class="space-y-2 mt-2 text-xs list-none pl-2">
                            <li class="p-2 bg-white rounded border border-gray-400">
                                <code class="block font-semibold text-primary">Loan Amount = Home Price - (Home Price * (Down Payment % / 100))</code>
                            </li>
                            <li class="p-2 bg-white rounded border border-gray-400">
                                <strong class="font-semibold text-primary block">P&I Payment (M)</strong>
                                <p class="mt-1 text-gray-600">Calculated using the standard PMT formula from `js/utils.js`:</p>
                                <code class="block text-xs mt-1 text-center">M = P * [r(1+r)^n] / [(1+r)^n - 1]</code>
                                <ul class="space-y-1 mt-1 text-gray-600 text-xs">
                                    <li><strong>P</strong> = Loan Amount</li>
                                    <li><strong>r</strong> = Monthly Interest Rate (Annual Rate / 12 / 100)</li>
                                    <li><strong>n</strong> = Total Payments (Loan Term in Years * 12)</li>
                                </ul>
                            </li>
                        </ul>
                    </section>
    
                    <section class="bg-gray-50/70 p-4 rounded-lg border border-gray-400">
                        <h3 class="text-base font-bold text-gray-800 flex items-center">
                            <span class="flex-shrink-0 w-6 h-6 rounded-full bg-primary text-white flex items-center justify-center mr-3 font-bold text-xs">2</span>
                            <span>Total Monthly Payment & PMI Estimation</span>
                        </h3>
                        <p class="mt-2 text-xs">Your total payment includes more than just P&I. We also estimate your PMI (if applicable).</p>
                        <ul class="space-y-2 mt-2 text-xs list-none pl-2">
                            <li class="p-2 bg-white rounded border border-gray-400">
                                <code class="block font-semibold text-primary">Loan-to-Value (LTV) % = (Loan Amount / Home Price) * 100</code>
                            </li>
                            <li class="p-2 bg-white rounded border border-gray-400">
                                <strong class="font-semibold text-primary block">PMI Payment (Estimated)</strong>
                                <p class="mt-1 text-gray-600">PMI is estimated if your LTV is over 80% and the loan is "Conventional".</p>
                                <code class="block text-xs mt-1">PMI = (Loan Amount * 0.005) / 12</code>
                                <p class="mt-1 text-gray-600">(This uses a common estimate of 0.5% of the loan amount per year).</p>
                            </li>
                             <li class="p-2 bg-white rounded border border-gray-400">
                                <code class="block font-semibold text-primary">Total Monthly Payment = P&I Payment + (Annual Taxes / 12) + (Annual Insurance / 12) + PMI Payment</code>
                            </li>
                        </ul>
                    </section>
                    
                    <section class="bg-gray-50/70 p-4 rounded-lg border border-gray-400">
                        <h3 class="text-base font-bold text-gray-800 flex items-center">
                            <span class="flex-shrink-0 w-6 h-6 rounded-full bg-primary text-white flex items-center justify-center mr-3 font-bold text-xs">3</span>
                            <span>Advanced Feature Formulas</span>
                        </h3>
                        <ul class="space-y-2 mt-2 text-xs list-none pl-2">
                            <li class="p-2 bg-white rounded border border-gray-400">
                                <strong class="font-semibold text-secondary block">Savings Goal</strong>
                                <code class="block text-xs mt-1">Amount to Save = (Home Price * (Target DP % / 100)) - Current Down Payment</code>
                                <code class="block text-xs mt-1">Months to Save = Amount to Save / Monthly Savings</code>
                            </li>
                            <li class="p-2 bg-white rounded border border-gray-400">
                                <strong class="font-semibold text-primary block">15-Year Loan Comparison</strong>
                                <p class="mt-1 text-gray-600">The calculator runs the PMT formula again with `n = 180` (15 years) to find the new payment. It then calculates the total interest for both loans to find your savings.</p>
                                <code class="block text-xs mt-1">Interest Saved = Total Interest (30-Yr) - Total Interest (15-Yr)</code>
                            </li>
                        </ul>
                    </section>
                </div>
    
                <!-- SEO Content Section -->
                <div class="bg-white p-4 sm:p-5 mt-4 rounded-xl shadow-2xl max-w-none text-gray-800 space-y-4 text-xs border-2 border-gray-400">
                    <!-- H2: Main SEO content heading -->
                    <h2 class="text-lg font-extrabold text-primary !mb-4">A Guide to Understanding Your Home Down Payment</h2>
                    
                    <section class="bg-gray-50/70 p-4 rounded-lg border border-gray-400">
                        <!-- H3: Content sub-heading -->
                        <h3 class="text-base font-bold text-gray-800">What is a Down Payment?</h3>
                        <p class="mt-2 text-xs">A down payment is the initial, upfront portion of a home's purchase price that you pay out-of-pocket. It's not part of the mortgage loan. Think of it as your initial investment in your property. The size of your down payment directly impacts your loan amount, your monthly payment, and the terms your lender will offer you. Using a <strong>down payment calculator</strong> like this one is the first step in understanding these connections.</p>
                    </section>
    
                    <section class="bg-gray-50/70 p-4 rounded-lg border border-gray-400">
                        <!-- H3: Content sub-heading -->
                        <h3 class="text-base font-bold text-gray-800">How Much Down Payment Do I Need?</h3>
                        <p class="mt-2 text-xs">This is the most common question for first-time buyers. While the "20% rule" is well-known, it's not always a strict requirement. Here's a breakdown of your options:</p>
                        <ul class="space-y-2 mt-2 text-xs">
                            <li class="flex items-start">
                                <!-- Decorative SVG icon -->
                                <span class="flex-shrink-0 w-5 h-5 mr-2 text-accent" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg></span>
                                <div><strong>The 20% Standard:</strong> Putting down 20% is the gold standard because it allows you to avoid Private Mortgage Insurance (PMI), a costly extra monthly fee.</div>
                            </li>
                            <li class="flex items-start">
                                <!-- Decorative SVG icon -->
                                <span class="flex-shrink-0 w-5 h-5 mr-2 text-primary" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" /></svg></span>
                                <div><strong>Low Down Payment Loans:</strong> Many loan programs are designed for first-time buyers. FHA loans require as little as 3.5% down, while some conventional loans allow for 3-5%. VA and USDA loans can even be 0% down if you qualify.</div>
                            </li>
                        </ul>
                        <p class="mt-2 text-xs">Our <strong>home down payment estimator</strong> lets you toggle between percentage and dollar amounts to see what works for your savings.</p>
                    </section>
    
                    <section class="bg-gray-50/70 p-4 rounded-lg border border-gray-400">
                        <!-- H3: Content sub-heading -->
                        <h3 class="text-base font-bold text-gray-800">Benefits of a Larger Down Payment</h3>
                        <p class="mt-2 text-xs">While saving can be tough, a larger down payment has significant long-term benefits:</p>
                        <ul class="space-y-2 mt-2 text-xs">
                            <li class="flex items-start">
                                <!-- Decorative SVG icon -->
                                <span class="flex-shrink-0 w-5 h-5 mr-2 text-accent" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg></span>
                                <div><strong>Lower Monthly Payment:</strong> You're borrowing less money, which directly reduces your monthly mortgage payment.</div>
                            </li>
                            <li class="flex items-start">
                                <!-- Decorative SVG icon -->
                                <span class="flex-shrink-0 w-5 h-5 mr-2 text-accent" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg></span>
                                <div><strong>Avoid PMI:</strong> As mentioned, a down payment of 20% or more means you won't have to pay for Private Mortgage Insurance.</div>
                            </li>
                            <li class="flex items-start">
                                <!-- Decorative SVG icon -->
                                <span class="flex-shrink-0 w-5 h-5 mr-2 text-accent" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941" /></svg></span>
                                <div><strong>Build Equity Faster:</strong> You start with a larger ownership stake in your home from day one.</div>
                            </li>
                             <li class="flex items-start">
                                <!-- Decorative SVG icon -->
                                <span class="flex-shrink-0 w-5 h-5 mr-2 text-accent" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z" /></svg></span>
                                <div><strong>Better Interest Rates:</strong> A higher down payment reduces the lender's risk, which can often qualify you for a lower interest rate, saving you money for years to come.</div>
                            </li>
                        </ul>
                        <div class="bg-accent/10 p-4 rounded-lg text-center shadow-inner border border-accent/20 mt-4">
                            <!-- H3: Call to action heading -->
                            <h3 class="text-base font-bold text-accent">See the Big Picture</h3>
                            <p class="mt-2 text-xs text-gray-700">Wondering how your down payment fits into your total buying power? Our <a href="https://mortgageplanner.toolblaster.com/all-in-one-mortgage-planner.html#affordability-tab" class="font-bold hover:underline">Affordability Calculator</a> helps you connect the dots between your savings, income, and dream home price.</p>
                        </div>
                    </section>
    
                    <!-- FAQ Section (Updated to match Closing Cost style) -->
                    <section class="py-4">
                        <h2 class="text-lg font-bold text-primary mb-4 text-center">Frequently Asked Questions</h2>
                        <div class="max-w-3xl mx-auto space-y-4">
                            <!-- FAQ 1 -->
                            <div class="bg-white border border-gray-200 rounded-lg p-4 shadow-sm border-l-4 border-primary">
                                <div class="flex items-start">
                                    <span class="flex-shrink-0 w-6 h-6 rounded-full bg-primary text-white flex items-center justify-center font-bold text-xs mr-3 mt-0.5">1</span>
                                    <div>
                                        <h3 class="text-sm font-bold text-gray-900 mb-2">How much should I put down on a house?</h3>
                                        <p class="text-xs text-gray-700 leading-relaxed">While 20% is the traditional goal to avoid Private Mortgage Insurance (PMI) and secure better loan terms, it is not always required. Many first-time buyers use programs like FHA loans (3.5% down) or conventional loans (3-5% down). The right amount depends on your savings, the loan type you qualify for, and your comfort with the monthly payment.</p>
                                    </div>
                                </div>
                            </div>
                            <!-- FAQ 2 -->
                            <div class="bg-white border border-gray-200 rounded-lg p-4 shadow-sm border-l-4 border-primary">
                                <div class="flex items-start">
                                    <span class="flex-shrink-0 w-6 h-6 rounded-full bg-primary text-white flex items-center justify-center font-bold text-xs mr-3 mt-0.5">2</span>
                                    <div>
                                        <h3 class="text-sm font-bold text-gray-900 mb-2">What is the minimum down payment for a mortgage?</h3>
                                        <p class="text-xs text-gray-700 leading-relaxed">The minimum down payment depends on the loan type. VA and USDA loans can be 0% for eligible borrowers. FHA loans require as little as 3.5% down. Some conventional loan programs for first-time homebuyers offer 3% down options. Our mortgage down payment calculator can help you model these different scenarios.</p>
                                    </div>
                                </div>
                            </div>
                            <!-- FAQ 3 -->
                            <div class="bg-white border border-gray-200 rounded-lg p-4 shadow-sm border-l-4 border-primary">
                                <div class="flex items-start">
                                    <span class="flex-shrink-0 w-6 h-6 rounded-full bg-primary text-white flex items-center justify-center font-bold text-xs mr-3 mt-0.5">3</span>
                                    <div>
                                        <h3 class="text-sm font-bold text-gray-900 mb-2">Do I need 20% down to avoid PMI?</h3>
                                        <p class="text-xs text-gray-700 leading-relaxed">For conventional loans, yes. A down payment of less than 20% (resulting in a Loan-to-Value ratio over 80%) typically requires you to pay Private Mortgage Insurance (PMI). This is an extra monthly fee that protects the lender. Government-backed loans like VA do not have PMI, and FHA loans have their own form of mortgage insurance.</p>
                                    </div>
                                </div>
                            </div>
                            <!-- FAQ 4 -->
                            <div class="bg-white border border-gray-200 rounded-lg p-4 shadow-sm border-l-4 border-primary">
                                <div class="flex items-start">
                                    <span class="flex-shrink-0 w-6 h-6 rounded-full bg-primary text-white flex items-center justify-center font-bold text-xs mr-3 mt-0.5">4</span>
                                    <div>
                                        <h3 class="text-sm font-bold text-gray-900 mb-2">Does a higher down payment lower my monthly payment?</h3>
                                        <p class="text-xs text-gray-700 leading-relaxed">Yes, absolutely. A higher down payment means you are borrowing less money, which directly reduces the principal and interest portion of your monthly payment. It can also help you avoid PMI, further lowering your total monthly housing cost.</p>
                                    </div>
                                </div>
                            </div>
                            <!-- FAQ 5 -->
                            <div class="bg-white border border-gray-200 rounded-lg p-4 shadow-sm border-l-4 border-primary">
                                <div class="flex items-start">
                                    <span class="flex-shrink-0 w-6 h-6 rounded-full bg-primary text-white flex items-center justify-center font-bold text-xs mr-3 mt-0.5">5</span>
                                    <div>
                                        <h3 class="text-sm font-bold text-gray-900 mb-2">What’s included in a mortgage payment besides principal and interest?</h3>
                                        <p class="text-xs text-gray-700 leading-relaxed">Your total monthly housing payment is often called 'PITI.' It includes Principal, Interest, Taxes (property taxes), and Insurance (homeowner's insurance). Your lender often collects the tax and insurance portions in an escrow account and pays them on your behalf. Our main Mortgage Calculator allows you to input all these costs for a complete picture.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </main>

            <!-- UPDATED: Added aside as sibling to main -->
            <aside id="desktop-sidebar-placeholder"></aside>
        </div>
    </main>
    <script src="../js/utils.js" defer></script>
    <script src="../global-elements.js" defer></script>
    <script src="down-payment-calculator.js" defer></script>
</body>
</html>
